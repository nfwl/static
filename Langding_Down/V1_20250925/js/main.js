function _typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++){i[n]=e[n]}return i}function _iterableToArrayLimit(e,t){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var n=[];var i=true;var r=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;a=e}finally{try{if(!i&&o["return"]!=null)o["return"]()}finally{if(r)throw a}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}window["jQuery"]=window["Zepto"];if("console"in window&&!("VConsole"in window)){var msg=["Powered By HuoNiu!","火牛微享聚合裂变营销系统","购买系统QQ:192868523"];console.log("%c"+msg.join("\r\n"),"color:#81d8cf")}window.onunhandledrejection=function(e){return"preventDefault"in e&&e.preventDefault()};window.addEventListener("unhandledrejection",function(e){return"preventDefault"in e&&e.preventDefault()});var NiuEnv={};var NiuUI={};var NiuJS={};var NiuHash={};var NiuBL={};var NiuWechat={};var NiuClient={};var NiuLogic={};var NiuGrant={MODULE:[],SALES:false,DUOKE:false,BUYIN:false,REWARD:false,CHAT:false,TWEET:false,CUSSRV:false,PROJECT:false};var NiuEvents={PageBack:"NiuPageBack",PageReshow:"NiuPageReshow",ShareChange:"NiuShareChange",ShareSuccess:"NiuShareSuccess",ContentResize:"NiuContentResize",AjaxListRedirect:"NiuAjaxListRedirect"};var EMPTY_FUNCTION=Function();function ExecuteWithSandbox(e){try{if(typeof e==="function"){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return e.apply(void 0,n)}}catch(e){console&&console.error&&console.error(e)}return null}(function(E,_,O,d,P,I,R,A,L,f,T,r){"use strict";I.COLOR_PRIMARY="primary";I.COLOR_RED="red";I.COLOR_PINK="pink";I.COLOR_ROSE="rose";I.COLOR_ORANGE="orange";I.COLOR_YELLOW="yellow";I.COLOR_GREEN="green";I.COLOR_TIFFANY="tiffany";I.COLOR_BLUE="blue";I.COLOR_INDIGO="indigo";I.COLOR_PURPLE="purple";I.COLOR_GOLDEN="golden";I.COLOR_GRAY="gray";I.COLOR_BLACK="black";I.COLOR_WHITE="white";_.addEventListener("DOMContentLoaded",function(){var e=function e(){var t=["body > div.niuui_mask","body > div > div.niuui_mask"];var n=t.some(function(e){return Array.from(_.querySelectorAll(e)).some(function(e){return e.offsetHeight>100})});_.body.style.overflow=n?"hidden":"";_.body.style.touchAction=n?"none":""};new MutationObserver(e).observe(_.body,{childList:true});setTimeout(e,200)});$.fn.multiClick=function(n,i){var r=[];this.on("click",function(e){var t=r.push(Date.now());if(t>=n){if(r[t-1]-r[t-n]<=n*150){r.splice(0,t);i.call(this,e)}else{r.splice(0,t-n)}}})};_.addEventListener("DOMContentLoaded",function(){if(O.isAppClient&&O.isAndroidDevice||O.isDebug){E.NativeBackPressed=function(){var e=_.querySelectorAll("[backpress]");for(var t=e.length-1;t>=0;t--){var n=e[t],i=n.getBoundingClientRect();if(!n.parentElement||i.width<2||i.height<2)continue;if(n.classList.contains("niuui_mask")){if(n!=_.elementFromPoint(i.left+2,i.top+2)&&n!=_.elementFromPoint(i.right-2,i.bottom-2))continue}else{if(!n.contains(_.elementFromPoint(i.left+i.width/2,i.top+i.height/2)))continue}n.dispatchEvent(new Event("click",{bubbles:true,cancelable:true}));return true}}}});I.showLoginTip=function(e){return I.dialog({title:"登录提示",content:"您还没有登录账号，请先登录之后在进行操作。",buttons:[{title:"取消",callback:e,color:I.COLOR_GRAY,close:true},{title:"立即登陆",callback:function e(){var t=L.getRouteUrl("userLogin",{next:location.requestUrl});location.replace(t)},color:I.COLOR_PRIMARY,close:true}]})};I.showMessage=function(e,t,n,i,r){var a=[];a.push('<div data-niuui="message" class="niuui_message remove"><div class="main">');a.push('  <div class="title">');a.push('    <div class="ff">&#xe68c;</div>');a.push('    <div class="name">'+(e||"消息通知")+"</div>");a.push('    <div class="time">'+(t||"现在")+"</div>");a.push("  </div>");a.push('  <div class="text">'+n+"</div>");if(R.isArray(i)){a.push('<div class="buttons">');i.forEach(function(e,t){a.push('<a class="btn-item color-'.concat(e.color,'" data-index="').concat(t,'" href="javascript:">').concat(e.title,"</a>"))});a.push("</div>")}a.push("</div></div>");var o=$(a.join("")).appendTo(_.body);setTimeout(function(){return o.removeClass("remove")},50);var s=setTimeout(function(){return o.remove()},5e3);o.remove=function(){o.addClass("remove");setTimeout(function(){$.fn.remove.call(o)},1e3)};o.on("click","a.btn-item[data-index]",function(){var e=i[this.dataset["index"]];if(!R.isObject(e))return;var t=undefined;if(R.isFunction(e.callback)){t=e.callback()}if(R.isBoolean(t)?t:e.close){o.remove()}});var c,u;var l=function e(t){_.body.style.overflow="hidden";c=("touches"in t?t.touches[0]:t).pageY;u=Date.now();clearTimeout(s)},d=function e(t){if(!c||!u)return;var n=("touches"in t?t.touches[0]:t).pageY;o.css("transform","translateY(".concat(n-c,"px)"))},f=function e(t){if(!c||!u)return;_.body.style.overflow="";var n=("changedTouches"in t?t.changedTouches[0]:t).pageY;if(c-n>10){o.remove()}else{if(Math.abs(c-n)<6&&Date.now()-u<150&&R.isFunction(r)){if(r()!==false){o.remove()}}o.css("transform","");c=null;u=null;s=setTimeout(function(){return o.remove()},5e3)}};var p="ontouchstart"in E;o.find("div.text").on(p?"touchstart":"mousedown",l).on(p?"touchmove":"mousemove",d).on(p?"touchend":"mouseup",f)};I.showContactService=function(e){var t,n=e["onlineChat"];if(n){t=function e(){return L.openCussrvWindow()}}else{var i=e.chatTelephone,r=e.chatQqNumber,a=e.chatWechatId,o=e.chatWechatQr;var s=[];s.push('<div class="contact_service_window">');s.push('  <div class="niuui_mask dark"></div>');s.push('  <div class="dialog">');s.push('    <div class="title"><img src="'.concat(L.getAssetUrl("asset/images/service-window.png"),'"/></div>'));s.push('    <div class="lists">');if(a&&o){s.push('  <div class="item">');s.push('    <div class="info wechat">');s.push('      <div class="name"><i class="ff">&#xe617;</i>微信客服</div>');s.push('      <div class="num">'.concat(a,"</div>"));s.push("    </div>");s.push('    <div class="button">');s.push('      <button class="btn left" action="wechat-copy">复制微信号</button>');s.push('      <button class="btn right" action="wechat-qrcode">查看二维码</button>');s.push("    </div>");s.push("  </div>")}if(r){s.push('  <div class="item">');s.push('    <div class="info qq">');s.push('      <div class="name"><i class="ff">&#xe606;</i>QQ客服</div>');s.push('      <div class="num">'.concat(r,"</div>"));s.push("    </div>");s.push('    <div class="button">');s.push('      <button class="btn left" action="qq-copy">复制QQ号</button>');s.push('      <button class="btn right" action="qq-chat">发起会话</button>');s.push("    </div>");s.push("  </div>")}if(i){s.push('  <div class="item">');s.push('    <div class="info tel">');s.push('      <div class="name"><i class="ff">&#xe608;</i>电话客服</div>');s.push('      <div class="num">'.concat(i,"</div>"));s.push("    </div>");s.push('    <div class="button">');s.push('      <button class="btn left" action="tel-copy">复制电话号</button>');s.push('      <button class="btn right" action="tel-call">发起通话</button>');s.push("    </div>");s.push("  </div>")}s.push("    </div>");s.push('    <div class="close" action="close" backpress>关闭</div>');s.push("  </div>");s.push("</div>");var c=$(s.join(""));c.on("click","[action=wechat-copy]",function(){R.copyText(a,"微信号已复制")}).on("click","[action=wechat-qrcode]",function(){var e=L.getRouteUrl("qrcode",{data:o,size:500,margin:10});I.wechatQrcode(e,"联系客服")}).on("click","[action=qq-copy]",function(){R.copyText(r,"QQ号已复制")}).on("click","[action=qq-chat]",function(){L.chatMobileQQ(r)}).on("click","[action=tel-copy]",function(){R.copyText(i,"电话号已复制")}).on("click","[action=tel-call]",function(){if(O.isMobileDevice){location.href="tel:"+i}else{I.toastWarning("请使用手机通话")}}).on("click","[action=close]",function(){c.remove()});t=function e(){return c.appendTo("body")}}var u="hide_srv_prompt",l=e.siteTitle,d=e.promptInterval,f=e.promptText;if(d>1&&f&&!R.getCookie(u)){var p=[];p.push('<div class="contact_service_prompt">');p.push('  <div class="niuui_mask dark"></div>');p.push('  <div class="dialog">');p.push('    <div class="title">欢迎访问 · '.concat(l,"</div>"));p.push('    <div class="flex">');p.push('      <div class="image"><img src="'.concat(L.getAssetUrl("asset/images/service-prompt.png"),'"/></div>'));p.push('      <div class="desc">'.concat(f,"</div>"));p.push("    </div>");p.push('    <div class="button"><button class="btn close" backpress>下次再说</button><button class="btn open">立即联系</button></div>');p.push("  </div>");p.push("</div>");var h=$(p.join("")).appendTo("body");$("button",h).click(function(){h.remove();R.setCookie(u,1,d*60)});$("button.open",h).click(t)}var v=$('<div class="contact_service_tip"><i class="ff">&#xe64a;</i>联系客服</div>').appendTo("body");var m=parseInt(getComputedStyle(v[0])["bottom"]);if("pageHeight"in _){v.css("bottom",_.pageHeight.footer+m+"px")}_.addEventListener(P.ContentResize,function(e){var t=e.height.footer;v.css("bottom",t+m+"px")});v.on("click",t);if(n&&e.unreadCount>0){v.append('<span class="num">'+e.unreadCount+"</span>")}};I.viewTaoToken=function(e,t,n){var i=[];i.push('<div data-niuui="tao-token" class="niu_tao_token">');i.push('<div class="niuui_mask dark"></div>');i.push('<div class="dialog">');i.push('<div class="close" backpress><i class="ff">&#xe62b;</i></div>');if(t)i.push('<div class="picture"><img src="'+t+'"/></div>');i.push('<div class="text"><div class="token selectable">'+e+"</div></div>");i.push('<div class="footer clearfix">');if(n)i.push('<span class="rbt">'+n+"</span>");i.push('<button class="copy btn btn-orange">一键复制</button>');i.push("</div>");i.push('<div class="guide"></div>');i.push("</div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);var a=r.find(".text");var o=r.find(".copy");var s=r.find(".guide");r.on("click",".close,.niuui_mask",function(){return r.remove()});if(O.isAppClient||O.supportCopyCommand){o.on("click",function(){R.copyText(e,"淘口令复制成功<br/>请打开淘宝购买","淘口令复制失败，请长按上方文字选择并复制。").then(function(){a.addClass("copy")},function(){s.addClass("hand")}).finally(function(){o.remove()})})}else{s.addClass("hand");o.remove()}};I.slidePicture=function(e,t,a){var n=$(e);n.css("padding-bottom",100*t+"%");var o=-1;var s=n.children(".picture").children("a");var c=s.eq(o);var u=n.children(".point").children("a");var l=u.eq(o);var d=null;var f=function e(t,n){t=t%s.length;if(t===o)return;clearTimeout(d);o=t;var i=s.eq(t);s.removeClass("right-in left-in right-out left-out");if(n){c.addClass("left-out");i.addClass("right-in")}else{c.addClass("right-out");i.addClass("left-in")}c=i;var r=u.eq(t);l.removeClass("active");r.addClass("active");l=r;d=setTimeout(function(){e(o+1,true)},a*1e3)};f(0,true);u.click(function(){var e=$(this).index();f(e,e>o)});var p,h;n.on({touchstart:function e(t){p=t.touches[0].clientY;h=t.touches[0].clientX},touchmove:function e(t){t.preventDefault()},touchend:function e(t){var n=t.changedTouches[0].clientY,i=t.changedTouches[0].clientX,r=Math.abs(p-n),a=Math.abs(h-i);if(a>r&&a>10){if(h>i){f(o+1,true)}else{f(o-1,false)}}p=h=null}})};I.dialog=function(r){var e=[];e.push('<div data-niuui="dialog" class="niuui_dialog">');e.push('<div class="niuui_mask dark"></div>');e.push('<div class="dialog">');if(r.title){e.push('<h3 class="title">'+r.title+"</h3>")}if(r.content){e.push('<div class="text">'+r.content+"</div>")}if(r.input){var t=R.isObject(r.input)?r.input:{};var n=t.type||"text",i=t.value||"",a=t.place||"",o=t.rows||3,s=t.picture||null;e.push('<div class="input">');if(n=="textarea"){e.push('<textarea class="area" rows="'.concat(o,'" placeholder="').concat(a,'" autosize>').concat(i,"</textarea>"))}else{e.push('<input class="ipt" type="'.concat(n,'" value="').concat(i,'" placeholder="').concat(a,'"/>'))}if(R.isString(s)&&s.length>1){e.push('<div class="picture">');e.push('  <div class="upload" action="upload"><i class="ff pic">&#xe67c;</i><span class="txt">'.concat(s,'</span><i class="ff add">&#xe639;</i></div>'));e.push('  <div class="preview" style="display:none">');e.push('    <div class="image"><img class="img" src=""/></div>');e.push('    <div class="action">');e.push('      <div class="act change" action="upload"><i class="ff">&#xe67c;</i>重新上传</div>');e.push('      <div class="act clear" action="clear"><i class="ff">&#xe68a;</i>清除图片</div>');e.push("    </div>");e.push("  </div>");e.push("</div>")}e.push("</div>")}if(R.isArray(r.buttons)){var c=r.buttons.length;if(r["multiBtn"]||c>2&&r["multiBtn"]!==false){e.push('<div class="buttons multi">')}else{e.push('<div class="buttons row">')}for(var u=0;u<c;u++){var l=r.buttons[u],d=l.backpress||l.close&&!l.callback?"backpress":"";e.push('<a class="btn-item color-'.concat(l.color,'" data-index="').concat(u,'" ').concat(d,' href="javascript:">').concat(l.title,"</a>"))}e.push("</div>")}e.push("</div>");e.push("</div>");var f=$("body > div[data-niuui=dialog]").last();if(f.css("display")=="none"){f=null}else{f.css("display","none")}var p=$(e.join("")).appendTo(_.body);var h=null;if(R.isObject(r.input)&&r.input.picture){var v=r.input.pictureParams||null;var m=p.find(".input .picture"),g=m.find(".upload"),b=m.find(".preview"),y=m.find(".img"),w=m.find("[action=upload]"),A=m.find("[action=clear]");w.on("click",function(){L.choseImageUpload(v,function(e){g.hide();b.show();h=e.url;y.attr("src",e.url)})});A.on("click",function(){g.show();b.hide();h=null;y.removeAttr("src")});y.on("click",function(){p.hide();I.viewPicture(h,function(){return p.show()})})}var C=r.input?p.find("input.ipt, textarea.area"):null;p.on("click",".btn-item[data-index]",function(){var e=parseInt(this.dataset["index"]);if(isNaN(e))return;var t=r.buttons[e];if(!t)return;var n=C?C.val():null;var i=undefined;if(R.isFunction(t.callback)){i=t.callback(n,h)}if(R.isBoolean(i)?i:t.close){p.remove()}});p.remove=function(){if(f){f.css("display",null)}$.fn.remove.call(p)};return p};I.alert=function(e,t,n){return I.dialog({title:e,content:t,buttons:[{title:"确定",callback:n,color:I.COLOR_PRIMARY,backpress:true,close:true}]})};I.confirm=function(e,t,n){return I.dialog({title:e,content:t,buttons:[{title:"取消",callback:function e(){if(R.isFunction(n)){return n(false)}},color:I.COLOR_GRAY,backpress:true,close:true},{title:"确定",callback:function e(){if(R.isFunction(n)){return n(true)}},color:I.COLOR_PRIMARY,close:true}]})};I.prompt=function(e,t,n,i){return I.dialog({title:e,content:t,input:n,buttons:[{title:"取消",callback:function e(t){if(R.isFunction(i)){return i(false,t)}},color:I.COLOR_GRAY,backpress:true,close:true},{title:"确定",callback:function e(t){if(R.isFunction(i)){return i(true,t)}},color:I.COLOR_PRIMARY,close:true}]})};I.captcha=function(n,i){var e='<div class="text-center"><img src="" style="width:4rem;border:.02rem solid #DDDDDD;border-radius:.05rem;"/></div>';var t=I.dialog({title:null,content:e,input:{place:"输入验证码"},buttons:[{title:"取消",callback:function e(){if(R.isFunction(i)){i(false)}},color:I.COLOR_GRAY,backpress:true,close:true},{title:"确定",callback:function e(t){if(!t||t.length!==4){I.toastWarning("验证码错误");return false}if(R.isFunction(i)){i(t)}},color:I.COLOR_PRIMARY,close:true}]});t.find(".dialog").css("width","5rem");t.find("img").click(function(){var e={identity:n,width:300,height:75,_:A.uniqueId()};var t=L.getConfig("sessionId");if(t)e["_session_id"]=t;this.src=L.getRouteUrl("captcha",e)}).trigger("click");return t};I.showMask=function(e,t){var n=$('<div data-niuui="mask" class="niuui_mask '+(e?"dark":"light")+'" '+(t?"backpress":"")+"></div>");n.appendTo(_.body);return n};function j(e,t,n){var i=['<i class="ff">&#xe60c;</i>','<i class="ff">&#xe60b;</i>','<i class="ff ff-spin">&#xe601;</i>'];var r=["success","warning","loading"];var a=[];a.push('<div data-niuui="toast" data-toast="'+r[e-1]+'" class="niuui_toast">');a.push('<div class="niuui_mask light" backpress></div>');a.push('<div class="toast">');a.push('<p class="icon">'+i[e-1]+"</p>");if(t){a.push('<p class="text">'+t+"</p>")}a.push("</div>");a.push("</div>");var o=$(a.join("")).appendTo(_.body);if(n!==-1){var s=setTimeout(function(){o.remove()},parseInt(n));o.children(".niuui_mask").click(function(){o.remove();clearTimeout(s)})}return o}I.toastSuccess=function(e,t){return j(1,e||"成功完成",t||3e3)};I.toastWarning=function(e,t){return j(2,e||"系统出错",t||3e3)};I.toastLoading=function(e,t){return j(3,e||"正在加载",t||-1)};function m(e,a,t,n){W(e,function(e){if(n){e=Array.from(e);e.unshift({id:-1,name:"全部地区"})}var r=[];e.forEach(function(e){var t=e.id,n=e.name;var i=a==t?"row active":"row";r.push('<div data-id="'.concat(t,'" class="').concat(i,'">').concat(n,"</div>"))});t.html(r.join(""));t.scrollTop(0)})}var N={};function W(n,i){if(n in N){i(N[n])}else{var e=L.getRouteUrl("districtChildren",{parent:n});R.asyncSendAction(e,null,false,true,"加载省市区失败").then(function(e){var t=e.data;N[n]=t;i(t)})}}I.district=function(e,t,n,i,r){var a={},o,s;if(R.isElement(e)||R.isJQuery(e)){o=$("[ref=name-text]",e);s={provinceName:$("input[ref=province-name]",e),provinceId:$("input[ref=province-id]",e),cityName:$("input[ref=city-name]",e),cityId:$("input[ref=city-id]",e),districtName:$("input[ref=district-name]",e),districtId:$("input[ref=district-id]",e)};Object.keys(s).forEach(function(e){a[e]=s[e]?s[e].val():null})}else if(R.isObject(e)&&"cityId"in e){a=Object.assign({provinceName:null,provinceId:null,cityName:null,cityId:null,districtName:null,districtId:null},e)}var c=$(['<div class="niuui_district">',' <div class="niuui_mask dark"></div>',' <div class="district">','  <div class="title">','   <a action="cancel" class="cancel" href="javascript:" backpress>取消</a>',"   <h6>选择城市</h6>",'   <a action="submit" class="submit" href="javascript:">确定</a>',"  </div>",'  <div class="panel">','   <div class="current">','    <div class="item"></div>','    <div class="item"></div>','    <div class="item"></div>',"   </div>",'   <div class="selector notch-iphone-after"></div>',"  </div>"," </div>","</div>"].join("")).appendTo(_.body);var u=$(".selector",c),l=$(".current > .item",c),d=$(".cancel",c),f=$(".submit",c),p=l.eq(0),h=l.eq(1),v=l.eq(2);if(a.districtId&&a.districtName){p.text(a.provinceName);h.text(a.cityName);v.text(a.districtName);v.addClass("active");m(a.cityId,a.districtId,u,r)}else if(a.cityId&&a.cityName){p.text(a.provinceName);h.text(a.cityName);h.addClass("active");v.hide();if(!n&&a.cityId>0)f.hide();m(a.provinceId,a.cityId,u,i)}else{p.text("请选择");p.addClass("active");h.hide();v.hide();f.hide();m(0,0,u)}u.on("click",".row",function(){var e=this.dataset["id"],t=this.innerText;$(this).addClass("active").siblings(".active").removeClass("active");if(p.hasClass("active")){a.provinceName=t;a.provinceId=e;p.removeClass("active");p.text(t);h.text("请选择");h.addClass("active");h.show();v.hide();m(e,0,u,i);f.hide()}else if(h.hasClass("active")){a.cityName=t;a.cityId=e;h.text(t);if(n||e<=0){a.districtName=null;a.districtId=null;f.show();v.hide()}else{h.removeClass("active");v.text("请选择");v.addClass("active");v.show();m(e,0,u,r);f.hide()}}else if(v.hasClass("active")){a.districtName=t;a.districtId=e;v.text(t);f.show()}});p.click(function(){if(!p.hasClass("active")){p.addClass("active");h.removeClass("active");v.removeClass("active");m(0,a.provinceId,u)}});h.click(function(){if(!h.hasClass("active")){p.removeClass("active");h.addClass("active");v.removeClass("active");m(a.provinceId,a.cityId,u,i)}});v.click(function(){if(!v.hasClass("active")){p.removeClass("active");h.removeClass("active");v.addClass("active");m(a.cityId,a.districtId,u,r)}});d.click(function(){c.remove()});f.click(function(){R.isFunction(t)&&t(a);c.remove();if(o){var e=[a.provinceName];if(a.cityId>0){e.push(a.cityName)}if(!n&&a.districtId>0){e.push(a.districtName)}o.text(e.join(" / "));Object.keys(s).forEach(function(e){s[e]&&s[e].val(a[e])})}})};I.datePick=function(e,i,r){var t=function e(i,t,r){var n="<span>&nbsp;</span>";var a=Array.from({length:t},function(e,t){var n=String(i+t);return'<span num="'.concat(n,'">').concat(n.padStart(1,"0")).concat(r,"</span>")}).join("");return n+n+a+n+n};var a=$(['<div class="niuui_date_pick">',' <div class="niuui_mask dark"></div>',' <div class="date_pick">','  <div class="title">','   <a action="cancel" class="cancel" href="javascript:" backpress>取消</a>',"   <h6>选择时间</h6>",'   <a action="submit" class="submit" href="javascript:">确定</a>',"  </div>",'  <div class="panel">','    <div class="select year">'+t(2010,30,"年")+"</div>",'    <div class="select month">'+t(1,12,"月")+"</div>",'    <div class="select date">'+t(1,31,"日")+"</div>",i?"":'<div class="select hour">'+t(0,24,"时")+"</div>",i?"":'<div class="select minute">'+t(0,60,"分")+"</div>",'    <div class="highlight"></div>',"  </div>"," </div>","</div>"].join("")).appendTo(_.body);var o,s;if(R.isElement(e)||R.isJQuery(e)){s=$(e);e=s.val()}if(R.isString(e)){var n=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})(\s(\d{1,2}):(\d{1,2})(:\d{1,2})?)?$/);if(R.isArray(n)){o={year:parseInt(n[1]),month:parseInt(n[2]),date:parseInt(n[3]),hour:parseInt(n[5])||0,minute:parseInt(n[6])||0}}}if(!o){var c=new Date;o={year:c.getFullYear(),month:c.getMonth()+1,date:c.getDate(),hour:c.getHours(),minute:c.getMinutes()}}var u=$(".select span",a).height();var l=$(".select.date",a),d=l.children().slice(29,33);var f=function e(){var t=new Date(o.year,o.month,0).getDate();var n=d.slice(0,t-27).show();var i=d.slice(t-27).hide();if(i.filter(".active").length>0){l.scrollTop((t-1)*u-1)}};Object.keys(o).forEach(function(e){var t=$(".select."+e,a);var n=t.find("span[num='".concat(o[e],"']"));n.addClass("active");t.scrollTop((n.index()-2)*u)});f();Object.keys(o).forEach(function(i){var e;$(".select."+i,a).on("scroll",function(){var n=this;if(e)clearTimeout(e);e=setTimeout(function(){var e=Math.round(n.scrollTop/u);n.scrollTop=e*u;var t=$("span",n).eq(e+2);if(!t.hasClass("active")){t.addClass("active");t.siblings(".active").removeClass("active");o[i]=parseInt(t.attr("num"));if(i=="year"||i=="month")f()}},100)})});$("[action=cancel]",a).click(function(){a.remove()});$("[action=submit]",a).click(function(){var e=[o.year,o.month,o.date].map(function(e){return String(e).padStart(2,"0")}).join("-"),t=[o.hour,o.minute].map(function(e){return String(e).padStart(2,"0")}).join(":"),n=e.concat(i?"":" "+t);if(s){s.val(n)}if(R.isFunction(r)){r(Object.assign({value:n},o))}a.remove()})};I.redPack=function(e,t,n){var i=[];i.push('<div data-niuui="redPack" class="niuui_red_pack">');i.push('<div class="niuui_mask dark"></div>');i.push('<div class="backdrop"></div>');i.push('<div class="red_pack">');i.push('<div class="title">'.concat(e||"","</div>"));i.push('<div class="cong">恭喜您获得</div>');i.push('<div class="money"><span>'.concat(L.convertCurrency(t),"</span><i>").concat(L.getConfig("currencyName"),"</i></div>"));i.push('<div class="btn-row"><button class="btn btn-red" backpress>确定</button></div>');i.push('<div class="save">已存入您的账户，可随时提现</div>');i.push("</div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);r.find("button.btn").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});return r};I.popup2=function(e,t){var n=[];n.push('<div data-niuui="popup2" class="niuui_popup2">');n.push('<div class="niuui_mask dark"></div>');n.push('<div class="popup">');n.push('<div class="box">'+e+"</div>");n.push('<div class="close" backpress><i class="ff">&#xe62b;</i></div>');n.push("</div>");n.push("</div>");var i=$(n.join("")).appendTo(_.body);i.find("div.close").click(function(){if(R.isFunction(t)){var e=t();if(e!==false){i.remove()}}else{i.remove()}});return i};I.popup=function(e,t){var n=[];n.push('<div data-niuui="popup" class="niuui_popup">');n.push('<div class="niuui_mask dark"></div>');n.push('<div class="popup">');n.push('<div class="head">');n.push('<div class="ff close" backpress>&#xe62b;</div>');n.push('<div class="line"></div>');n.push("</div>");n.push('<div class="box1">');n.push('<div class="box2">'+e+"</div>");n.push("</div>");n.push("</div>");n.push("</div>");var i=$(n.join("")).appendTo(_.body);i.find("div.close").click(function(){if(R.isFunction(t)){var e=t();if(e!==false){i.remove()}}else{i.remove()}});return i};var q=function(){var a={wechat_friend:["#62B900","&#xe617;","微信好友"],wechat_moments:["#62B900","&#xe65f;","朋友圈"],qq_mobile:["#19B3EF","&#xe606;","手机QQ"],qq_zone:["#F3C400","&#xe644;","QQ空间"],sina_weibo:["#E04D69","&#xe641;","新浪微博"],alipay:["#00AAEE","&#xe628;","支付宝"],copy_text:["#1A9A79","&#xe643;","复制内容"],copy_link:["#1A9A79","&#xe701;","复制连接"],save_picture:["#337AB7","&#xe640;","保存图片"],ios_social:["#E0262E","&#xe649;","立即分享"],more:["#74689A","&#xe611;","更多"]};var e=function e(t){return t.map(function(e){if(!e)return;var t=_slicedToArray(a[e],3),n=t[0],i=t[1],r=t[2];return'<div class="item" data-social="'.concat(e,'">')+'<div class="icon"><i class="ff" style="color:'.concat(n,'">').concat(i,"</i></div>")+'<div class="name">'.concat(r,"</div></div>")}).join("")};var t,n,i;return function(){if(!t||!n||!i){if(O.isQQBrowser||O.isUCBrowser){t=e(["wechat_friend","wechat_moments","qq_mobile","qq_zone","sina_weibo","copy_text","copy_link","more"])}else if(O.isAppClient){t=e(L.getConfig("appShareSocial").concat(["copy_text","copy_link"]))}else if(O.isWechatBrowser){t=e(["wechat_friend","wechat_moments","copy_text","copy_link","share"in navigator?"more":""])}else{t=e(["share"in navigator?"ios_social":"","copy_text","copy_link"])}if(O.isAppClient&&O.isAppleDevice){n=e(["ios_social","copy_text","save_picture"])}else if(O.isAppClient&&O.isAndroidDevice){n=e(["wechat_friend","wechat_moments","qq_mobile","qq_zone","sina_weibo","copy_text","save_picture","more"])}else if(O.isWechatBrowser){n=e(["wechat_friend","wechat_moments","copy_text","save_picture"])}else{n=e(["copy_text","save_picture"])}if(O.isAppClient&&O.isAppleDevice){i=e(["ios_social","save_picture"])}else if(O.isAppClient&&O.isAndroidDevice){i=e(["wechat_friend","wechat_moments","qq_mobile","qq_zone","sina_weibo","save_picture","more"])}else if(O.isWechatBrowser){i=e(["wechat_friend","wechat_moments","save_picture"])}else{i=e(["save_picture"])}}return{web:t,slogan:n,image:i}}}();I.sharePopover=function(a,o,s,e){if(a===true){a={title:L.metaOpenGraph("title"),url:L.metaOpenGraph("url"),urlShort:L.metaOpenGraph("url_short"),desc:L.metaOpenGraph("description"),image:L.metaOpenGraph("image")}}if(o===true){var t=L.metaOpenGraph("url_short")||L.metaOpenGraph("url");o={text:L.metaOpenGraph("title")+"\r\n"+t,images:[L.metaOpenGraph("image")]}}if(s===true){var n=L.metaOpenGraph("banner")||L.metaOpenGraph("image");s={images:[n]}}var i=function(){var e=q(),t=e.web,n=e.slogan,i=e.image;var r=[];r.push('<div data-niuui="share" class="niuui_share">');r.push('<div class="niuui_mask dark"></div>');r.push('<div class="dialog notch-iphone-bottom">');r.push('<div class="title">');if(a)r.push('<a href="javascript:" data-tab="web" class="tab">分享网页</a>');if(o)r.push('<a href="javascript:" data-tab="slogan" class="tab">分享文案</a>');if(s)r.push('<a href="javascript:" data-tab="image" class="tab">分享海报</a>');r.push("</div>");r.push('<div class="container">');if(a){r.push('<div class="hide" data-tab="web" data-type="web">');r.push('<div class="preview web">');r.push('<div class="image">');r.push(a.image?'<img src="'+a.image+'"/>':'<i class="ff">&#xe642;</i>');r.push("</div>");r.push('<div class="text">'+a.title+"</div>");r.push("</div>");r.push('<div class="platform">'+t+"</div>");if(O.isWechatBrowser){r.push('<div class="warning green"><i class="ff">&#xe638;</i> 如需分享到朋友圈或微信好友，请点击右上角按钮，再点击对应的图标进行分享。</div>')}else if(!O.isQQBrowser&&!O.isUCBrowser&&!O.isAppClient&&!("share"in navigator)){r.push('<div class="warning"><i class="ff">&#xe638;</i> 当前浏览器不允许自动分享，如需分享到微信、QQ等社交平台，请手动点击浏览器自带的分享按钮进行分享。</div>')}r.push("</div>")}if(o){r.push('<div class="hide" data-tab="slogan" data-type="slogan">');r.push('<div class="preview creative">');r.push('<div class="text">'+o.text+"</div>");if(R.isArray(o.images)&&o.images.length>0){r.push('<div class="images">');o.images.forEach(function(e){r.push('<div class="image" action="image"><img src="'+e+'"/></div>')});r.push("</div>")}r.push("</div>");r.push('<div class="platform">'+n+"</div>");if(!O.isAppClient){r.push('<div class="warning"><i class="ff">&#xe638;</i> 您的浏览器无法直接保存或分享图片，请长按上述预览图，在弹出的菜单中选择保存或分享。</div>')}r.push("</div>")}if(s){r.push('<div class="hide" data-tab="image" data-type="image">');r.push('<div class="preview creative">');if(R.isArray(s.images)&&s.images.length>0){if(s.images.length>1){r.push('<div class="images">');s.images.forEach(function(e){r.push('<div class="image" action="image"><img src="'+e+'"/></div>')});r.push("</div>")}else{r.push('<div class="banner" action="image">');r.push('<div class="img"><img src="'+s.images[0]+'"/></div>');r.push('<div class="mask"><i class="ff">&#xe6fe;</i> 查看完整海报</div>');r.push("</div>")}}r.push("</div>");r.push('<div class="platform">'+i+"</div>");if(!O.isAppClient){r.push('<div class="warning"><i class="ff">&#xe638;</i> 您的浏览器无法直接保存或分享图片，请长按上述预览图，在弹出的菜单中选择保存或分享。</div>')}r.push("</div>")}r.push("</div>");r.push('<div class="finish" backpress>');r.push('<button class="btn">完成</button>');r.push("</div></div></div>");return $(r.join("")).appendTo(_.body)}();if(e){i.find(".title > a[data-tab="+e+"]").addClass("active");i.find(".container > div[data-tab="+e+"]").removeClass("hide")}else{i.find(".title > a:first-child").addClass("active");i.find(".container > div:first-child").removeClass("hide")}i.on("click",".finish",function(){i.remove()}).on("click",".preview.creative div[action=image]",function(){var e=this.getElementsByTagName("img");if(e.length>0){I.viewPicture(e.item(0).src);return false}}).on("click",".title > a[data-tab]",function(){var e=$(this),t=i.find(".container > div[data-tab="+e.data("tab")+"]");e.addClass("active").siblings().removeClass("active");t.removeClass("hide").siblings().addClass("hide")}).on("click","div[data-type=web] > .platform > .item",function(){var e=this.dataset["social"];L.openSharePlatform("web",e,a,function(){i.remove()})}).on("click","div[data-type=slogan] > .platform > .item",function(){var e=this.dataset["social"];L.openSharePlatform("slogan",e,o,function(){i.remove()})}).on("click","div[data-type=image] > .platform > .item",function(){var e=this.dataset["social"];L.openSharePlatform("image",e,s,function(){i.remove()})});return i};I.wechatQrcode=function(t,e,n){var i=[];i.push('<div data-niuui="qrcode" class="niuui_qrcode remove">');i.push('<div class="alert">');i.push('<div class="help ff">&#xe6af;</div>');i.push('<div class="close ff" backpress>&#xe63a;</div>');i.push('<div class="title">微信扫码'+(e||"")+"</div>");i.push("</div>");i.push('<div class="image selectable"><img src="'+t+'" class="selectable"/></div>');i.push('<div class="button notch-iphone-padding">');if(O.isAppClient){i.push('<button class="btn btn-primary">保存二维码</button>')}else if(!O.isWechatBrowser){i.push('<button class="btn btn-primary">打开微信</button>')}i.push("</div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);setTimeout(function(){return r.removeClass("remove")},50);r.remove=function(){r.addClass("remove");setTimeout(function(){$.fn.remove.call(r)},1e3)};r.find("div.close").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});r.find("div.help").click(function(){var e=[];if(O.isAppClient){e.push("1、请点击下方“保存二维码”按钮，先将二维码保存到手机中");e.push("2、点击保存提示框中的“启动微信”按钮，并打开微信的扫一扫功能");e.push("3、在微信扫一扫中，点击右上角的“相册”按钮，选择刚才保存的(最后一张)二维码图片");e.push("4、在图片预览页面，点击右上角的“完成”按钮，微信会自动识别二维码进行后续操作")}else if(O.isWechatBrowser){e.push("长按显示的二维码，在弹出的菜单中选择“识别二维码”选项，微信会自动识别进行后续操作")}else{e.push("1、长按显示的二维码，在弹出的菜单中选择保存图片选项，将二维码保存到本地");e.push("2、点击下方“打开微信”按钮，或手动打开微信，并打开微信的扫一扫功能");e.push("3、在微信扫一扫中，点击右上角的“相册”按钮，选择刚才保存的(最后一张)二维码图片");e.push("4、在图片预览页面，点击右上角的“完成”按钮，微信会自动识别二维码进行后续操作")}I.alert("二维码识别说明",e.join("<br/>"))});r.find("button.btn").click(function(){if(O.isAppClient){var e=I.toastLoading("正在保存");T.savePicture(t).then(function(){I.dialog({title:"二维码保存成功",content:"二维码图片保存成功，请启动微信扫一扫功能，在相册中选择这张二维码进行识别。",buttons:[{title:"取消",color:I.COLOR_GRAY,close:true},{title:"启动微信",callback:function e(){T.openUrlScheme(O.isAppleDevice?"weixin://scanqrcode":"weixin://")},color:I.COLOR_PRIMARY,close:true}]})},function(e){if(e.includes("拒绝")&&e.includes("权限")){e="您拒绝提供存储权限，无法保存图片。请在手机的设置-应用管理中将本APP的存储权限修改为允许。"}I.alert("二维码保存失败",e)}).finally(function(){return e.remove()})}else if(!O.isWechatBrowser){R.openScheme("weixin://")}});return r};I.viewQrcode=function(t,e,n){var i=[];i.push('<div data-niuui="qrcode" class="niuui_qrcode remove">');i.push('<div class="alert">');i.push('<div class="help ff">&#xe6af;</div>');i.push('<div class="close ff" backpress>&#xe63a;</div>');i.push('<div class="title">扫描二维码'+(e||"")+"</div>");i.push("</div>");i.push('<div class="image selectable"><img src="'+t+'" class="selectable"/></div>');i.push('<div class="button notch-iphone-padding">');if(O.isAppClient){i.push('<button class="btn btn-primary">保存二维码</button>')}i.push("</div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);setTimeout(function(){return r.removeClass("remove")},50);r.remove=function(){r.addClass("remove");setTimeout(function(){$.fn.remove.call(r)},1e3)};r.find("div.close").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});r.find("div.help").click(function(){var e=[];if(O.isAppClient){e.push("1、请点击下方“保存二维码”按钮，先将二维码保存到手机中");e.push("2、根据上个页面的提示，打开对应App的扫一扫功能");e.push("3、在扫一扫中，点击“相册”按钮，选择刚才保存的(最后一张)二维码图片")}else if(O.isWechatBrowser){e.push("长按显示的二维码，在弹出的菜单中选择“识别二维码”选项，微信会自动识别进行后续操作")}else{e.push("1、长按显示的二维码，在弹出的菜单中选择保存图片选项，将二维码保存到本地");e.push("2、根据上个页面的提示，打开对应App的扫一扫功能");e.push("3、在扫一扫中，点击“相册”按钮，选择刚才保存的(最后一张)二维码图片")}I.alert("二维码识别说明",e.join("<br/>"))});r.find("button.btn").click(function(){if(O.isAppClient){var e=I.toastLoading("正在保存");T.savePicture(t).then(function(){I.alert("二维码保存成功","二维码图片保存成功，请根据上个页面的提示，打开对应App的扫一扫功能，在相册中选择这张二维码进行识别。")},function(e){if(e.includes("拒绝")&&e.includes("权限")){e="您拒绝提供存储权限，无法保存图片。请在手机的设置-应用管理中将本APP的存储权限修改为允许。"}I.alert("二维码保存失败",e)}).finally(function(){return e.remove()})}});return r};I.viewMiniQrcode=function(e,t,n){var i=[];i.push('<div data-niuui="qrcode" class="niuui_qrcode2">');i.push('<div class="niuui_mask dark"></div>');i.push('<div class="dialog">');i.push('<div class="image selectable">');i.push('<img src="'+e+'" class="selectable"/>');i.push("</div>");i.push('<div class="text">'+(t||"")+"</div>");i.push('<div class="close ff" backpress>&#xe62b;</div>');i.push("</div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);r.find("div.close").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});return r};I.framePage=function(e,t,n){var i=[];i.push('<div data-niuui="frame" class="niuui_frame remove">');i.push('<div class="alert">');i.push('<div class="close ff" backpress>&#xe62b;</div>');i.push('<div class="title">'+t+"</div>");i.push("</div>");i.push('<div class="frame-box notch-iphone-padding"><iframe class="frame" src="'+e+'" scrolling="auto"></iframe></div>');i.push("</div>");var r=$(i.join("")).appendTo(_.body);setTimeout(function(){return r.removeClass("remove")},50);r.remove=function(){r.addClass("remove");setTimeout(function(){$.fn.remove.call(r)},1e3)};r.find("div.close").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});return r};I.frameHtml=function(e,t,n){var i=[];i.push('<div data-niuui="frame" class="niuui_frame remove">');i.push('<div class="alert">');i.push('<div class="close ff" backpress>&#xe62b;</div>');i.push('<div class="title">'+t+"</div>");i.push("</div>");i.push('<div class="html-box"><div class="html notch-iphone-padding"><div class="clearfix">'+e+"</div></div></div>");i.push("</div>");var r=$(i.join("")).appendTo(_.body);setTimeout(function(){return r.removeClass("remove")},50);r.remove=function(){r.addClass("remove");setTimeout(function(){$.fn.remove.call(r)},1e3)};r.find("div.close").click(function(){if(R.isFunction(n)){var e=n();if(e!==false){r.remove()}}else{r.remove()}});return r};function Q(i,t){var d=8,f=.5;var e=i.naturalWidth,n=i.naturalHeight,r=E.innerWidth,a=E.innerHeight,o=Math.min(e,r),s=o/e*n;i.style.width=o+"px";i.style.height=s+"px";i.style.transformOrigin="0 0";var c=i.parentElement;var p=false,h=[],v={x:0,y:0},m={x:0,y:0},g={x:0,y:0},b=false,y={x:0,y:0};var w=(r-o)/2;var A=s<a?(a-s)/2:0;var C=1;var S=function e(){var t=C*o,n=C*s;if(t<=r){w=(r-t)/2}else{if(w>0)w=0;else if(w<r-t)w=r-t}if(n<=a){A=(a-n)/2}else{if(A>0)A=0;else if(A<a-n)A=a-n}i.style.transform="translate3d(".concat(w.toFixed(2),"px,").concat(A.toFixed(2),"px,0) scale(").concat(C.toFixed(5),")")};S();var u=function e(){if(h.length==0){if(p){p=false;b&&t()}}else if(h.length==1){if(!p){p=true;b=true;setTimeout(function(){b=false},200)}y={x:h[0].x,y:h[0].y};c.setPointerCapture(h[0].id)}else if(h.length==2){v={x:h[0].x,y:h[0].y};m={x:h[1].x,y:h[1].y};g={x:(v.x+m.x)/2,y:(v.y+m.y)/2}}};c.addEventListener("wheel",function(e){A-=e.deltaY/2;S()});c.addEventListener("pointerdown",function(e){h.push({x:e.clientX,y:e.clientY,id:e.pointerId});u();return R.closeLastEvent(e)},true);c.addEventListener("pointermove",function(t){if(!p)return;var e=h.findIndex(function(e){return e.id==t.pointerId});Object.assign(h[e],{x:t.clientX,y:t.clientY});if(h.length==1){var n=h[0].x-y.x,i=h[0].y-y.y;if(Math.abs(n)>2||Math.abs(i)>2)b=false;w+=n;A+=i;y={x:h[0].x,y:h[0].y};S()}else if(h.length==2){b=false;var r=h,a=_slicedToArray(r,2),o=a[0],s=a[1];var c={x:(o.x+s.x)/2,y:(o.y+s.y)/2};var u=Math.hypot(o.x-s.x,o.y-s.y)/Math.hypot(v.x-m.x,v.y-m.y);var l=C*u;if(l>d){C=d;u=d/C}else if(l<f){C=f;u=f/C}else{C=l}w-=(u-1)*(c.x-w)-(c.x-g.x);A-=(u-1)*(c.y-A)-(c.y-g.y);g={x:c.x,y:c.y};v={x:o.x,y:o.y};m={x:s.x,y:s.y};S()}return R.closeLastEvent(t)},true);c.addEventListener("pointerup",function(t){if(!p)return;h.splice(h.findIndex(function(e){return e.id==t.pointerId}),1);u();return R.closeLastEvent(t)},true);c.addEventListener("pointercancel",function(e){if(!p)return;h=[];u();return R.closeLastEvent(e)},true)}I.viewPicture=function(t,n){var e=[];e.push('<div data-niuui="picture" class="niuui_picture">');e.push('<div class="image-box selectable"><img class="image" src=""/></div>');e.push('<div class="close ff" backpress>&#xe62b;</div>');e.push('<div class="save-pic ff notch-iphone-bottom">&#xe65c;</div>');e.push('<div class="niuui_mask" style="background:rgba(0,0,0,0.98)"></div>');e.push("</div>");var i=$(e.join("")).appendTo(_.body);var r=function e(){if(R.isFunction(n)&&n()===false)return;a.style.opacity=0;setTimeout(function(){return i.remove()},200)};var a=i.find("img.image")[0];a.addEventListener("load",function(){a.style.opacity=1;Q(a,r)});a.addEventListener("error",function(){I.alert("图片加载失败");R.isFunction(n)&&n();i.remove()});a.src=t;$(".save-pic",i).click(function(){if(O.isAppClient){var e=I.toastLoading("正在保存");T.savePicture(t).then(function(){I.toastSuccess("图片保存成功")},function(e){if(e.includes("拒绝")&&e.includes("权限")){e="您拒绝提供存储权限，无法保存图片。请在手机的设置-应用管理中将本APP的存储权限修改为允许。"}I.alert("图片保存失败",e)}).finally(function(){return e.remove()})}else if(O.isAppleDevice&&O.standaloneMode){I.alert("保存提示","您的浏览器无法保存图片，建议使用手机的截图功能对当前页面进行截图。")}else{I.alert("保存提示","您的浏览器无法直接保存图片，请在图片上长按，在弹出的菜单中选择保存图片选项。")}return false});$(".close",i).click(r);return i};I.showLikeAnimate=function(){var s=new Image;s.addEventListener("load",function(){var e=['<div class="niuui_like_animate">','  <div class="img" style="background-image:url('.concat(s.src,')"></div>'),'  <div class="niuui_mask light"></div>',"</div>"];var t=$(e.join("")).appendTo(_.body);var n=t.children("div.img")[0],i=n.clientWidth,r=Math.floor(this.height/this.width);var a=0;var o=setInterval(function(){n.style.backgroundPositionY=i*--a+"px";if(a==1-r){clearInterval(o);setTimeout(function(){return t.remove()},500)}},35)});s.src=L.getAssetUrl("asset/images/like_animate.png")};I.dismiss=function(e){return $("div[data-niuui="+e+"]").remove()};I.dismissDialog=function(){return I.dismiss("dialog")};I.dismissToast=function(){return I.dismiss("toast")};I.dismissMask=function(){return I.dismiss("mask")};I.dismissRedPack=function(){return I.dismiss("red-pack")};I.dismissPopup=function(){return I.dismiss("popup")};I.dismissQrcode=function(){return I.dismiss("qrcode")};I.dismissFrame=function(){return I.dismiss("frame")};I.dismissPicture=function(){return I.dismiss("picture")};I.dismissShare=function(){return I.dismiss("share")};I.dismissDistrict=function(){return I.dismiss("district")};I.dismissTaoToken=function(){return I.dismiss("tao-token")};I.dismissMessage=function(){return I.dismiss("message")};var l={};var c=function e(r,a,o,s){if(!O.isAppClient)throw"当前访问环境不是APP,无法调用APP功能";if(O.isAndroidDevice){var t=R.getObject(E,"HuoNiuFusionApp","invoke");if(!R.isFunction(t))throw"Android环境未初始化"}else{var n=R.getObject(E,"webkit","messageHandlers","HuoNiuFusionApp","postMessage");if(!R.isFunction(n))throw"iOS环境未初始化"}return new Promise(function(e,t){var n=A.uniqueId("app");l[n]=[e,t,o,s];if(O.isAndroidDevice){var i=R.isObject(a)?JSON.stringify(a):null;E.HuoNiuFusionApp.invoke(r,i,n)}else{E.webkit.messageHandlers.HuoNiuFusionApp.postMessage([r,a,n])}})};E.JSBridgeCallback=function(e,t){var n=t.success,i=t.message,r=t.data;if(!(e in l))return;var a=_slicedToArray(l[e],4),o=a[0],s=a[1],c=a[2],u=a[3];delete l[e];if(n){if(R.isText(c)){I.toastSuccess(c)}else if(c===true){I.toastSuccess("操作成功")}o(r)}else if(i!="CANCEL"){if(R.isText(u)){I.alert(u,i)}else if(u===true){I.alert("业务执行未完成",i)}s(i)}};T.copyText=function(e,t,n){return c("copyText",{text:e},t,n)};T.requestPermission=function(e,t,n){if(O.appVersionNum<12200)return Promise.resolve({result:"granted",granted:true,denied:false});return c("requestPermission",{permission:e},t,n)};T.getClipboard=function(e,t){return c("getClipboard",{},e,t)};T.getPosition=function(e,t,n){return c("getPosition",{height:e?"true":"false"},t,n)};T.getPromoteUser=function(e,t){return c("getPromoteUser",{},e,t)};T.getPreferences=function(e,t,n){return c("getPreferences",{key:e},t,n)};T.removePreferences=function(e,t,n){return c("removePreferences",{key:e},t,n)};T.setPreferences=function(e,t,n,i){return c("setPreferences",{key:e,value:t},n,i)};T.getClientInfo=function(e,t){return c("getClientInfo",{},e,t)};T.openWebPage=function(e,t,n){return c("openWebPage",{url:e},t,n)};T.openUrlScheme=function(e,t,n){return c("openUrlScheme",{url:e},t,n)};T.existUrlScheme=function(e,t,n){return c("existUrlScheme",{url:e},t,n)};T.getPushDeviceId=function(e,t){return c("getPushDeviceId",{},e,t)};T.getPackageName=function(e,t){return c("getPackageName",{},e,t)};T.downloadUpdate=function(e,t,n){return c("downloadUpdate",{appUrl:e},t,n)};T.downloadApplication=function(e,t,n,i){return c("downloadApplication",{appUrl:e,appName:t},n,i)};T.savePicture=function(e,t,n,i){return c("savePicture",{picUrl:e,fileName:t},n,i)};T.saveVideo=function(e,t,n,i){return c("saveVideo",{videoUrl:e,fileName:t},n,i)};T.getDeviceIdentifier=function(e,t){return c("getDeviceIdentifier",{},e,t)};T.getAliyunDeviceToken=function(e,t){return c("getAliyunDeviceToken",{},e,t)};T.scanQRCode=function(e,t){return c("scanQRCode",{},e,t)};T.getAppSignature=function(e,t){return c("getAppSignature",{},e,t)};T.openWechatMiniprogram=function(e,t,n,i){return c("openWechatMiniprogram",{userName:e,path:t},n,i)};T.paymentWechat=function(e,t,n){return c("paymentWechat",{params:e},t,n)};T.paymentAlipay=function(e,t,n){return c("paymentAlipay",{params:e},t,n)};function i(e,t,n,i){if(R.isObject(t))t=R.httpBuildQuery(t);return c(e,{params:t},n,i)}T.openXianWan=function(e,t,n){return i.apply(void 0,["openXianWan"].concat(Array.prototype.slice.call(arguments)))};T.openHaoLiang=function(e,t,n){return i.apply(void 0,["openHaoLiang"].concat(Array.prototype.slice.call(arguments)))};T.openZhuanBang=function(e,t,n){return i.apply(void 0,["openZhuanBang"].concat(Array.prototype.slice.call(arguments)))};T.openShanYou=function(e,t,n){return i.apply(void 0,["openShanYou"].concat(Array.prototype.slice.call(arguments)))};T.openTaoJin=function(e,t,n){return i.apply(void 0,["openTaoJin"].concat(Array.prototype.slice.call(arguments)))};T.openZhuanLe=function(e,t,n){return i.apply(void 0,["openZhuanLe"].concat(Array.prototype.slice.call(arguments)))};T.openXiangWan=function(e,t,n){return i.apply(void 0,["openXiangWan"].concat(Array.prototype.slice.call(arguments)))};T.openDuoYou=function(e,t,n){return i.apply(void 0,["openDuoYou"].concat(Array.prototype.slice.call(arguments)))};T.openShangWa=function(e,t,n){return i.apply(void 0,["openShangWa"].concat(Array.prototype.slice.call(arguments)))};T.openMokuXQ=function(e,t,n){return c("openMokuXQ",{userId:e},t,n)};T.openMokuDD=function(e,t,n){return c("openMokuDD",{userId:e},t,n)};T.openNiuUnion=function(e,t,n,i){return c("openNiuUnion",{host:e,ticket:t},n,i)};T.showGDTRewardVideo=function(e,t,n,i,r,a,o){var s=JSON.stringify(Object.assign({requestId:n,scene:i},R.isObject(r)?r:{}));return c("showGDTRewardVideo",{advertId:e,userId:t,customData:s},a,o)};T.showGDTFullScreen=function(e,t,n){return c("showGDTFullScreen",{advertId:e},t,n)};T.showPangleRewardVideo=function(e,t,n,i,r,a,o){var s=JSON.stringify(Object.assign({requestId:n,scene:i},R.isObject(r)?r:{}));return c("showPangleRewardVideo",{advertId:e,userId:t,customData:s},a,o)};T.showPangleFullScreen=function(e,t,n){return c("showPangleFullScreen",{advertId:e},t,n)};T.showPangleLittleSlide=function(e,t,n){e=R.isObject(e)?JSON.stringify(e):"";return c("showPangleLittleSlide",{extraData:e},t,n)};T.showPangleLittleFeed=function(e,t,n){e=R.isObject(e)?JSON.stringify(e):"";return c("showPangleLittleFeed",{extraData:e},t,n)};T.showKwaiRewardVideo=function(e,t,n,i,r,a,o){var s=JSON.stringify(Object.assign({requestId:n,scene:i},R.isObject(r)?r:{}));return c("showKwaiRewardVideo",{advertId:e,userId:t,customData:s},a,o)};T.showKwaiFullScreen=function(e,t,n){return c("showKwaiFullScreen",{advertId:e},t,n)};T.showKwaiLittleSlide=function(e,t,n,i){t=R.isObject(t)?JSON.stringify(t):"";return c("showKwaiLittleSlide",{advertId:e,extraData:t},n,i)};T.showKwaiLittleFeed=function(e,t,n,i){t=R.isObject(t)?JSON.stringify(t):"";return c("showKwaiLittleFeed",{advertId:e,extraData:t},n,i)};T.showKwaiLittleHoriz=function(e,t,n,i){t=R.isObject(t)?JSON.stringify(t):"";return c("showKwaiLittleHoriz",{advertId:e,extraData:t},n,i)};T.showPangleDramaDetail=function(e,t,n,i,r){return c("showPangleDramaDetail",{dramaId:e,episode:t,sessionId:n},i,r)};T.showPangleDramaSlide=function(e,t,n){return c("showPangleDramaSlide",{sessionId:e},t,n)};function o(e,t,n,i,r,a,o){return c("share"+e,{title:t,desc:n,url:i,image:r},a,o)}T.shareQQMobile=function(e,t,n,i,r,a){return o("QQMobile",e,t,n,i,r,a)};T.shareQQZone=function(e,t,n,i,r,a){return o("QQZone",e,t,n,i,r,a)};T.shareAlipay=function(e,t,n,i,r,a){return o("Alipay",e,t,n,i,r,a)};T.shareSinaWeibo=function(e,t,n,i,r,a){return o("SinaWeibo",e,t,n,i,r,a)};T.shareWechatFriend=function(e,t,n,i,r,a){return o("WechatFriend",e,t,n,i,r,a)};T.shareWechatMoments=function(e,t,n,i,r,a){return o("WechatMoments",e,t,n,i,r,a)};function F(e,t,n,i,r,a,o){return c("shareAndroidAgency"+e,{title:t,desc:n,url:i,image:r},a,o)}T.shareAndroidAgencyFriend=function(e,t,n,i,r,a){return F("Friend",e,t,n,i,r,a)};T.shareAndroidAgencyMoments=function(e,t,n,i,r,a){return F("Moments",e,t,n,i,r,a)};function a(e,t,n,i,r){if(R.isArray(n))n=n.join("###");return c("shareAndroid"+e,{text:t,image:n},i,r)}T.shareAndroidWechatFriend=function(e,t,n,i){return a("WechatFriend",e,t,n,i)};T.shareAndroidWechatMoments=function(e,t,n,i){return a("WechatMoments",e,t,n,i)};T.shareAndroidQQMobile=function(e,t,n,i){return a("QQ",e,t,n,i)};T.shareAndroidQQZone=function(e,t,n,i){return a("QZone",e,t,n,i)};T.shareAndroidSinaWeibo=function(e,t,n,i){return a("SinaWeibo",e,t,n,i)};T.shareAndroidMore=function(e,t,n,i){return a("More",e,t,n,i)};function B(e,t,n,i,r){if(R.isArray(n))n=n.join("###");return c("shareIOS"+e,{text:t,image:n},i,r)}T.shareIOSMore=function(e,t,n,i){return B("More",e,t,n,i)};function U(e,t,n){return c("login"+e,{},t,n)}T.loginSinaWeibo=function(e,t){return U("SinaWeibo",e,t)};T.loginQQ=function(e,t){return U("QQ",e,t)};T.loginWechat=function(e,t){return U("Wechat",e,t)};T.loginAlipay=function(e,t,n){if(R.isArray(e))e=e.join(",");else if(!R.isString(e))e="";return c("loginAlipay",{scope:e},t,n)};L.pageInitialized=function(){if("defineProperty"in Object){Object.defineProperty(location,"requestUrl",{value:String(location.href)})}else{location["requestUrl"]=String(location.href)}var e=_.querySelectorAll("[remove]");e.forEach(function(e){return e.remove()});if(O.isAppleDevice){_.querySelectorAll("body > *").forEach(function(e){e.addEventListener("click",EMPTY_FUNCTION,false)});var t=new MutationObserver(function(e){e.forEach(function(e){if(e.addedNodes&&e.addedNodes.length>0){e.addedNodes.forEach(function(e){if(e.parentElement===_.body){e.addEventListener("click",EMPTY_FUNCTION,false)}})}})});t.observe(_.body,{childList:true})}L.lazyLoadImage(_.body);if(O.isAppleDevice){var r=170;_.addEventListener("blur",function(e){var t=e.target||e.srcElement;if("tagName"in t&&!t.disabled&&!t.readOnly){var n=t.tagName.toUpperCase();if(n=="INPUT"||n=="TEXTAREA"||t.contentEditable=="true"){var i=_.documentElement.scrollHeight-_.documentElement.clientHeight;if(i-pageYOffset>r){scrollTo(pageXOffset,pageYOffset-r)}}}},true)}_.body.addEventListener("input",function(e){var t=e.target||e.srcElement;if(t.tagName==="TEXTAREA"&&t.hasAttribute("autosize")){var n=0;var i=getComputedStyle(t);if(i.boxSizing=="border-box"){n=parseInt(i.borderTopWidth)+parseInt(i.borderBottomWidth)}t.style.height="";t.style.height=t.scrollHeight+n+"px"}},true);_.body.addEventListener("click",function(e){var t=e.target||e.srcElement;var n=t.closest("a[href][replace]");if(n&&n.getAttribute("href").indexOf("#")!==0&&["http:","https:"].includes(n.protocol)){location.replace(n.href);e.stopPropagation();e.preventDefault();return false}},true);_.body.addEventListener("click",function(e){var t=e.target||e.srcElement;while(true){if(t instanceof HTMLAnchorElement)break;if(t===_.body)return;t=t.parentElement}if(t.dataset["rel"]=="alert"){var n=t.dataset["title"]||t.getAttribute("title"),i=t.dataset["text"]||t.dataset["content"];if(n||i){I.alert(n,i);e.stopPropagation();e.preventDefault();return false}}},true);if(O.standaloneMode&&(O.isAppleDevice?O.iOSVersion<13:true)){var n=L.getConfig("domainList");if(R.isArray(n)&&n.length>0){_.addEventListener("click",function(e){var t=(e.target||e.srcElement).closest("a[href]");if(!t)return;if(t.hasAttribute("href")&&t.getAttribute("href").indexOf("#")!==0&&["http:","https:"].includes(t.protocol)&&L.getConfig("domainList").indexOf(t.hostname)>=0){location.href=t.href;e.stopPropagation();e.preventDefault();return false}},true)}}if(O.standaloneMode){var i=_.getElementById("app-download");if(i)i.parentElement.removeChild(i)}if(O.isAppleDevice&&(O.standaloneMode||O.isAppClient)&&O.isNotchIPhone){_.body.classList.add("notch-iphone");var a=_.createElement("div"),o=Array.from(_.querySelectorAll("body > [handle=footer]")).pop();if(R.isElement(o)){a.setAttribute("class","notch-iphone-fixed");a.setAttribute("handle","footer");_.body.appendChild(a);var s=getComputedStyle(o).getPropertyValue("background-color");if(R.isString(s)&&s.startsWith("rgb(")){a.style.backgroundColor=s}}else{a.setAttribute("class","notch-iphone-height");_.getElementById("content").appendChild(a)}}ExecuteWithSandbox(function(){var c=_.getElementById("content");if(c){var u=_.querySelectorAll("body > [handle=header]"),l=Array.from(_.querySelectorAll("body > [handle=footer]")).reverse();var d=_.getElementById("height-header").style,f=_.getElementById("height-footer").style;var e=function e(){var n=0;u.forEach(function(e){var t=e.clientHeight;e.style.top=n+"px";n+=t});var i=0;l.forEach(function(e){var t=e.clientHeight;e.style.bottom=i+"px";i+=t});var t=parseInt(d.height),r=parseInt(f.height);if(t!==n||r!==i){var a=_.documentElement.clientHeight-n-i;d.height=n+"px";f.height=i+"px";c.style.minHeight=a+"px";var o={header:n,footer:i,content:a};Object.defineProperty(_,"pageHeight",{value:o,writable:false,configurable:true});var s=new Event(P.ContentResize,{bubbles:true,cancelable:true});s["height"]=o;_.dispatchEvent(s)}};e();var t=0;var n=setInterval(function(){e();if(t++>30){clearInterval(n)}},250)}});E.addEventListener("pageshow",function(){if(R.hasPageData("page_showed")){var e=new Event(P.PageReshow,{bubbles:true,cancelable:true});e["refresh"]=false;_.dispatchEvent(e);if(!e.defaultPrevented){if(e.refresh){I.toastLoading();setTimeout(function(){return location.reload()},O.isUCBrowser?1e3:50)}}}else{R.setPageData("page_showed","")}},true);ExecuteWithSandbox(function(){var n=function e(){return O.isWechatBrowser&&f.menuShare(L.metaOpenGraph("title"),L.metaOpenGraph("url_same")||L.metaOpenGraph("url"),L.metaOpenGraph("description"),L.metaOpenGraph("image"))};_.addEventListener(P.ShareChange,function(){if(!O.isAppClient&&!O.isQQBrowser&&!O.isUCBrowser&&!n()){var e=L.metaOpenGraph("title"),t=L.metaOpenGraph("url_same")||L.metaOpenGraph("url");if(!R.isCrossDomain(t)){history.replaceState(null,e,t);_.title=e}}});n()});ExecuteWithSandbox(function(){var t=_.getElementById("header-title"),e=_.querySelector("#header-title .dropdown .toggle");if(!t||!e)return;var n;var i=function e(){if(!n)return;_.removeEventListener("click",e,true);t.classList.remove("dropdown-show");n.remove();setTimeout(function(){return n=null},100)};e.addEventListener("click",function(){if(n)return;t.classList.add("dropdown-show");n=I.showMask(false);_.addEventListener("click",i,true)})});ExecuteWithSandbox(function(){var e=_.getElementsByClassName("filter-taber");e.forEach(function(r){var e=r.querySelector(".main"),t=r.querySelector("ul");var n=$("li[data-value]",r);var i=r.hasAttribute("cancelable");var a=t.scrollWidth-t.clientWidth;if(a>5){var o=_.createElement("div");o.setAttribute("class","prev ff");o.innerHTML="&#xe600;";o.addEventListener("click",function(){return t.scrollLeft=0});e.insertBefore(o,t);var s=_.createElement("div");s.setAttribute("class","next ff");s.innerHTML="&#xe639;";s.addEventListener("click",function(){return t.scrollLeft=a});e.appendChild(s);o.style.display="none";t.addEventListener("scroll",function(){o.style.display=t.scrollLeft>5?"block":"none";s.style.display=t.scrollLeft<a-5?"block":"none"})}var c=function e(t,n){var i=new Event("switch",{bubbles:false,cancelable:true});i["value"]=n?null:t.dataset["value"];i["isCancel"]=!!n;r.dispatchEvent(i);return!i.defaultPrevented};n.click(function(){this.scrollIntoView();if(!this.classList.contains("active")){if(c(this)){this.classList.remove("dot");this.classList.add("active");$(this).siblings().removeClass("active")}}else if(i){if(c(this,true)){this.classList.remove("active")}}});_.addEventListener("DOMContentLoaded",function(){var e=r.querySelector("li.active");if(e){e.scrollIntoView()}else if(!i){n.eq(0).trigger("click")}if(n.length<2){r.remove()}})})});ExecuteWithSandbox(function(){var n=_.getElementById("footer-navigate"),e=_.getElementById("navigate-expand");if(n&&e&&e.childElementCount>0){var s={};var t=parseInt(n.dataset["count"]),i=n.lastElementChild,c=i.clientWidth,u=i.offsetLeft,l=c/t;Array.from(e.children).forEach(function(e){var t=e.lastElementChild,n=parseInt(e.dataset["index"]),i=e.clientWidth,r=i/2,a=l*n+l/2;var o=a-r;if(a<r+5){o=5}else if(a+r>c-5){o=c-5-i}e.style.display="none";e.style.left=u+o+"px";t.style.left=a-o-1+"px";s[e.dataset["index"]]=e});var r=function e(){var t=_.documentElement.clientHeight-n.getBoundingClientRect()["top"];Object.values(s).forEach(function(e){return e.style.transform="translateY(-"+t+"px)"})};_.addEventListener(P.ContentResize,r);r();var a=null;var o=function e(t){I.dismissMask();t.classList.add("removed");setTimeout(function(){t.style.display="none";if(a==t){n.style.zIndex="";a=null}},200)};var d=function e(t){if(a){o(a)}t.style.display="";n.style.zIndex="9001";a=t;requestAnimationFrame(function(){return t.classList.remove("removed")});I.showMask(false).click(function(){return o(t)})};$(n).on("click",".item[data-child]",function(){var e=s[this.dataset["child"]];if(e.offsetWidth){o(e)}else{d(e)}}).on("close",function(){a&&o(a)})}});ExecuteWithSandbox(function(){var e=function e(t){return setTimeout(function(){R.readClipboard().then(function(i){var e=R.printLog("获取剪切板内容",i);if(!R.isString(i)||i.length<8)return;var t="￥ 》《 € ₴ ₰ ¢ $ ₳ ₤ ฿ ₵ ₡ ƒ ₲ ₭ £ ₪ ₰ ₯".replaceAll(" ",""),n=new RegExp("["+t+"]([a-z0-9]{8,16})["+t+"]","i");if(R.isArray(e=n.exec(i))&&e[1])return c("STK",e[1]);var r=new RegExp("^#([a-z0-9+/]{10,})(={0,3})#$","i");if(R.isArray(e=r.exec(i))&&e[1])return c("B64",e[1]);var a=function e(t){var n=new RegExp("https?://("+t.join("|")+")/[\\x21-\\x7E]+","i").exec(i);return R.isArray(n)&&n[0]?n[0]:null};if(d.DUOKE){var o=["p.pinduoduo.com","mobile.yangkeduo.com"];if(R.isString(e=a(o)))return l("duoke",e)}if(d.BUYIN){var s=["v.douyin.com","haohuo.jinritemai.com"];if(R.isString(e=a(s)))return l("buyin",e)}},function(e){R.printLog("读取剪切板失败",e)})},t)};var u=function e(){return O.isAppClient?T.copyText("\0"):L.onNextEvent(function(){return R.copyTextBrowser("\0")})};var c=function e(t,n){R.asyncSendAction(L.getRouteUrl("shareToken"),{type:t,token:n},true,false,false).then(function(e){var t=$(e.html).appendTo(_.body);t.on("click","[action=close]",function(){return t.remove()});u()},function(e){if(e.code==233){I.alert(e.msg);u()}})};var l=function e(c,t){R.asyncSendAction(L.getRouteUrl(c+"QueryUrl"),{url:t},true,false,false).then(function(e){var t=e.data,n=t.goodsName,i=t.pictureUrl,r=t.detailUrl,a={duoke:"拼多多",buyin:"抖音"}[c];var o=['<div data-ui="share-goods" class="niuui_share_goods">','  <div class="niuui_mask dark" action="close"></div>','  <div class="dialog">','    <div class="picture"><img src="'.concat(i,'" /></div>'),'    <div class="name"><span class="'.concat(c,'"><i class="ff">&#xe8db;</i>').concat(a,"</span>").concat(n,"</div>"),'    <div class="button"><a href="'.concat(r,'" class="btn btn-primary" action="close">查看商品详情</a></div>'),'    <div class="close ff" action="close" backpress>&#xe67b;</div>',"  </div>","</div>"];var s=$(o.join("")).appendTo(_.body);s.on("click","[action=close]",function(){return s.remove()});u()},function(e){if(e.code==233){I.alert(e.msg);u()}})};if(!sessionStorage.getItem("clip_read")){sessionStorage.setItem("clip_read","1");e(1e3)}var t=false;_.addEventListener("visibilitychange",function(){if("webkitHidden"in _?_.webkitHidden:_.hidden){t=true}else if(t){t=false;e(500)}})})};var t=navigator.userAgent;var H=function e(){return void 0};O.isDebug=H.name==["HuoNiu","Dev","Detector"].join("");O.enableLog=O.isDebug||"VConsole"in E;O.isWechatBrowser=t.indexOf("MicroMessenger")>1;O.isTBSBrowser=t.indexOf("MQQBrowser")>1&&t.indexOf("TBS")>1;O.isAppClient=t.indexOf("HuoNiuFusion")>1;O.isQQBrowser=t.indexOf("MQQBrowser")>1&&!t.match(/(MicroMessenger|TBS|iPad)/i);O.isUCBrowser=t.indexOf("UCBrowser")>1&&t.indexOf("iPad")<0;O.isMobileDevice=!!t.match(/(iPod|iPhone|iPad|Android|Mobile)/i);O.isSearchSpider=!!t.match(/(Baiduspider|Googlebot|Bingbot|Slurp|DuckDuckBot|YandexBot|Sogou|Exabot)/i);O.standaloneMode=navigator["standalone"]||matchMedia("(display-mode: standalone)").matches;var G=t.match(/Chrom(e|ium)\/(\d+.\d+)/);O.isChromeBrowser=!!G;O.chromeVersion=G?parseFloat(G[2]):0;var e;if((e=t.match(/(iPhone|iPad|iPod)(.+?) OS (\d+)_(\d+)(_\d+)? like/))&&t.includes("Mobile/")){O.isAppleDevice=true;O.iOSVersion=parseFloat(e[3]+"."+e[4]);O.isSafariBrowser=["Gecko) Version/","Safari/"].every(function(e){return t.includes(e)})}else if((e=t.match(/Gecko\) Version\/([\d.]+) Safari\/([\d.]+)$/))&&t.startsWith("Mozilla/5.0 (Macintosh; Intel Mac OS X")){O.isAppleDevice=true;O.iOSVersion=parseFloat(e[1]);O.isSafariBrowser=true}else{O.isAppleDevice=false;O.iOSVersion=null;O.isSafariBrowser=false}O.isNotchIPhone=O.isAppleDevice&&["375-812","390-844","393-852","414-896","428-926","430-932","744-1133","810-1080","820-1180","834-1194","1024-1366"].includes(screen.width+"-"+screen.height);var Y=t.match(/Android (\d+(\.\d+)?)/);O.isAndroidDevice=!!Y;O.androidVersion=Y?parseFloat(Y[1]):0;if("queryCommandSupported"in _&&"execCommand"in _){if(_.queryCommandSupported("copy")){O.supportCopyCommand=true}else{var V=["touchstart","click","input","keydown","mousedown"];var z=function t(){V.forEach(function(e){return _.removeEventListener(e,t,true)},true);O.supportCopyCommand=!!_.queryCommandSupported("copy")};V.forEach(function(e){return _.addEventListener(e,z,true)},true);O.supportCopyCommand=false}}else{O.supportCopyCommand=false}try{O.supportWebP=_.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp;")===0}catch(e){O.supportWebP=false}O.supportsEventListenerOption=false;try{var J={};Object.defineProperty(J,"passive",{get:function e(){O.supportsEventListenerOption=true}});E.addEventListener("test-passive",null,J)}catch(e){}var n=t.match(/HuoNiuFusion\/(\d+).(\d+).(\d+)_(\d{6})/);if(O.isAppClient&&n){O.appVersionStr=n[1]+"."+n[2]+"."+n[3];O.appVersionNum=parseInt(n[1]+("00"+n[2]).slice(-2)+("00"+n[3]).slice(-2));O.appBuildNum=parseInt(n[4])}else{O.appVersionStr=O.appVersionNum=O.appBuildNum=null}var s={};L.setConfig=function(e){if("moduleGrant"in e){d.MODULE=e.moduleGrant;d.MODULE.forEach(function(e){return d[e.toUpperCase()]=true})}return Object.assign(s,e)};L.getConfig=function(e){if(e){if(e in s){return s[e]}else{return null}}else{return s}};var X={qrcode:"/qrcode",userLogin:"/cas/login",errorReport:"/business/errorReport",districtChildren:"/business/district/children/{parent}",districtSibling:"/business/district/sibling/{id}",ipLocation:"/business/ipLocation/{ip}",mobileLocation:"/business/mobileLocation/{mobile}",uploadImage:"/business/uploadImage",reportLocation:"/business/reportLocation",paymentCheck:"/business/paymentCheck",captcha:"/business/captcha/{identity}",shareToken:"/share_token",duokeQueryUrl:"/duoke/list/query_url",buyinQueryUrl:"/buyin/list/query_url"};L.getRouteUrl=function(e,t){if(e in X){var n=L.getConfig("defaultDomain"),i=X[e],r=[];if(R.isObject(t)){R.objectEach(t,function(e,t){if(e===null){return}else if(R.isArray(e)){e=e.join(",")}else if(R.isObject(e)){e=JSON.stringify(e)}else if(R.isBoolean(e)){e=e?1:0}var n="{".concat(t,"}");if(i.indexOf(n)>0){i=i.replace(n,e)}else{r.push(t+"="+encodeURIComponent(e))}})}var a=r.length>0?"?"+r.join("&"):"";return n+i+a}else{throw Error("No route named "+e)}};L.getAssetUrl=function(e){var t=L.getConfig("staticDomain")||L.getConfig("defaultDomain");var n=O.isDebug?Math.round(Date.now()/1e3):L.getConfig("assetVersion");if(/^asset\/front\/\w+.css$/.test(e)){var i=_.querySelector("meta[name=theme-color]").content;if(i!="#2A5BAA")n+="_"+i.substr(1)}return"".concat(t,"/static/").concat(e,"?v=").concat(n)};L.convertCurrency=function(e,t){e=parseInt(e)||0;if(L.getConfig("currencyIscny")){var n=e/L.getConfig("currencyRate");if(R.isNumber(t)&&t>=0){return n.toFixed(t)}else{var i=n.toFixed(L.getConfig("currencyScale"));if(t===true){return i}else{var r=i.split("."),a=_slicedToArray(r,2),o=a[0],s=a[1];s=s.replace(/^(\d\d)(\d*?)(0+)$/,"$1$2");return o+"."+s}}}else{return e.toString()}};L.requireStyle=function(e){if(R.isArray(e)){return Promise.all(e.map(function(e){return L.requireStyle(e)}))}var i="asset/"+e+".css";var t=Array.from(_.querySelectorAll("link[rel=stylesheet][href]"));for(var n=0;n<t.length;n++){if(String(t[n].href).includes(i)){return Promise.resolve()}}return new Promise(function(e,t){var n=_.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=L.getAssetUrl(i);n.onload=function(){return setTimeout(function(){return e()},100)};n.onerror=function(){return t()};_.head.appendChild(n)})};L.requireScript=function(r){if(R.isArray(r)){var a=r.length;return new Promise(function(n,i){var e=function e(t){L.requireScript(r[t]).then(function(){if(t<a-1){e(t+1)}else{n()}},function(){i()})};e(0)})}var i="asset/"+r+".js";var e=Array.from(_.querySelectorAll("script[src]"));for(var t=0;t<e.length;t++){if(String(e[t].src).includes(i)){return Promise.resolve()}}return new Promise(function(e,t){var n=_.createElement("script");n.type="text/javascript";n.src=L.getAssetUrl(i);n.onload=function(){return setTimeout(function(){return e()},100)};n.onerror=function(){return t()};_.head.appendChild(n)})};L.requireResource=function(e){if(!R.isArray(e))e=[e];var t=e.filter(function(e){return e.endsWith(".css")}).map(function(e){return e.substr(0,e.length-4)});var n=e.filter(function(e){return e.endsWith(".js")}).map(function(e){return e.substr(0,e.length-3)});return Promise.all([t.length>0?L.requireStyle(t):Promise.resolve(),n.length>0?L.requireScript(n):Promise.resolve()])};L.reportFrontendError=function(e){try{var t=L.getRouteUrl("errorReport");var n=JSON.stringify(e);jQuery.post(t,{data:n})}catch(e){}};L.demoAdvertClick=function(){var e=["这里是一个广告位，你看到的这个是演示广告。","这些广告内容只在本演示站中出现，您购买的系统之后，可以给这些广告位任意配置广告内容的。","如有任何问题，请垂询接洽客服人员，我们会竭力为您服务。"];I.alert("广告位内容提示",e.join("<br/>"))};L.chatMobileQQ=function(n){var i=["mqq","tim","mqqiwpa"],r=["QQ","TIM","QQi"];if(O.isAppClient){var e=i.map(function(e){return T.existUrlScheme(e+"://")});Promise.all(e).then(function(e){for(var t=0;t<e.length;t++){if(e[t]["isExist"]){I.toastLoading("正在唤起"+r[t],3e3);return T.openUrlScheme(i[t]+"://im/chat?chat_type=wpa&version=1&src_type=web&web_src=reward&uin="+n)}}return Promise.reject("手机中未安装QQ客户端")}).catch(function(e){I.alert("无法启动手机QQ客户端",e)})}else if(O.isMobileDevice){i.forEach(function(e){return R.openScheme(e+"://im/chat?chat_type=wpa&version=1&src_type=web&web_src=reward&uin="+n)});I.toastLoading("启动手机QQ",3e3);setTimeout(function(){return I.dialog({title:"提示信息",content:"已尝试拉起手机QQ进行对话，如若手机QQ未能启动，可复制QQ号添加好友。",multiBtn:true,buttons:[{title:"复制QQ号",callback:function e(){R.copyText(n,"QQ号已复制")},color:I.COLOR_BLUE,close:true},{title:"已经聊上了",color:I.COLOR_GREEN,close:true}]})},3e3)}else{E.open("https://wpa.qq.com/msgrd?v=3&site=fusion&menu=yes&uin="+n,"_blank")}};L.chatWechat=function(t){I.dialog({title:"提示信息",content:"请点击复制微信号按钮，复制对方微信账号。<br/>复制成功后，打开微信点击右上角的加号，选择添加好友菜单，粘贴对方微信号。",multiBtn:true,buttons:[{title:"复制微信号",callback:function e(){R.copyText(t,"微信号已复制");R.openScheme("weixin://")},color:I.COLOR_PRIMARY,close:true},{title:"取消",color:I.COLOR_GRAY,close:true}]})};var K=[],u=null;L.getAliyunDeviceToken=function(){if(R.isArray(u)&&u.length==2){return Promise.resolve({ua:u[0](),um:u[1]})}if(K.length===0)setTimeout(function(){var e=_.createElement("script");e.type="text/javascript";e.src="https://g.alicdn.com/AWSC/AWSC/awsc.js";e.onload=function(){Promise.all([new Promise(function(n){AWSC.use("uab",function(e,t){if(e=="loaded"){n(function(){return t.getUA()})}else{R.printLog("aliyun uab load: "+e)}})}),new Promise(function(n){AWSC.use("um",function(e,t){if(e!="loaded"){R.printLog("aliyun um load: "+e);return}t.init({appName:"saf-aliyun-com"},function(e,t){if(e=="success"){n(t.tn)}else{R.printLog("aliyun um init: "+e)}})})})]).then(function(t){u=t;K.forEach(function(e){return e({ua:t[0](),um:t[1]})})})};_.head.appendChild(e)});return new Promise(function(e){K.push(e)})};L.ajaxListPuller=function(i){i=$.extend({listDom:null,loadMoreParent:null,pullRefreshParent:null,onLoadMore:null,onRefresh:null},i);var e=R.isJQuery(i.listDom)?i.listDom:$(i.listDom);var a=false;var n=Function(),t=Function();if(R.isFunction(i.onLoadMore)){var r=_.documentElement.clientHeight+50;var o=$('<div class="pull-load-more"><div class="hide"></div></div>');var s=o.children("div");var c=false;var u=0;var l="HIDDEN";if(i.loadMoreParent){o.appendTo(i.loadMoreParent)}else{o.insertAfter(e)}s.on("click",function(){if(a||!c)return;if(ExecuteWithSandbox(i.onLoadMore)===false)return;u=0});setInterval(function(){if(a||!c||u>=3)return;var e=s[0].getBoundingClientRect();if(e.width==0||e.height==0)return;if(e.top<=r){if(ExecuteWithSandbox(i.onLoadMore)!==false){u++}}},200);t=function e(){return l};n=function e(t){l=t.toUpperCase();a=l=="LOADING";c=l=="HAS_MORE";if(l=="HIDDEN")u=0;var n=_slicedToArray({HIDDEN:["\x3c!-- HIDDEN --\x3e","hide"],LOADING:['<i class="ff ff-spin">&#xe601;</i> 正在加载...',"color-orange"],HAS_MORE:['<i class="ff">&#xe6fe;</i> 点击加载更多',"color-primary"],NO_MORE:['<i class="ff font-bold">&#xe679;</i> 没有更多了~',"color-gray"],EMPTY:["\x3c!-- EMPTY --\x3e","no-content"]}[l],2),i=n[0],r=n[1];s.html(i);s.attr("class",r)}}var d=Function();if(R.isFunction(i.onRefresh)){var f=false;var p=50,h=$('<div class="pull-refresh"><span></span></div>');if(i.pullRefreshParent){h.appendTo(i.pullRefreshParent)}else{h.insertBefore(e)}var v=h[0].getBoundingClientRect()["top"];e.on("touchstart",function(e){if(a)return;var t=h[0].getBoundingClientRect()["top"];if(t!==v)return;f=e["touches"][0]["pageY"]});e.on("touchmove",function(e){if(!f)return;var t=e["touches"][0]["pageY"];var n=Math.ceil((t-f)/3);if(n>0){var i=n>=p?"pulled":"pulling";h.css("height",n+"px").attr("class","pull-refresh "+i);e.preventDefault();e.stopPropagation();return false}else{h.css("height","0").attr("class","pull-refresh")}});e.on("touchend",function(e){if(!f)return;h.css("height","0").attr("class","pull-refresh");var t=e["changedTouches"][0]["pageY"];var n=Math.ceil((t-f)/3);if(n>=p&&!a){ExecuteWithSandbox(i.onRefresh)}f=null});d=function e(t){a=!!t;t&&n("HIDDEN");h.css("height",t?p+"px":"0");h.attr("class","pull-refresh"+(t?" loading":""))}}return{setMoreStatus:n,getMoreStatus:t,setRefreshStatus:d}};L.ajaxListLoader=function(r){r=$.extend({defaultData:{},loadUrl:E.location.href,listDom:null,loadMoreParent:null,pullRefreshParent:null,loadMoreById:true,filterBoxDom:null,loadByPost:false,autoBegin:true,beforeLoad:null,afterLoad:null,onRestore:null,onNewItem:null},r);var a=false,o=!r.autoBegin;var s=R.isJQuery(r.listDom)?r.listDom:$(r.listDom);var c=R.isObject(r.defaultData)?r.defaultData:{};var i=function e(t,n,i){if(a||o)return false;a=true;d&&d.attr("disabled",true);if(i){scrollTo(0,0);u.setRefreshStatus(true);if(r.loadMoreById){c["offsetId"]=0}else{c["page"]=1}}else{u.setMoreStatus("LOADING")}R.isFunction(t)&&t(c);R.isFunction(r.beforeLoad)&&r.beforeLoad(c);R.asyncSendAction(r.loadUrl,c,r.loadByPost,false).then(function(e){R.isFunction(r.afterLoad)&&r.afterLoad(e,c);R.isFunction(n)&&n(e,c);if(i){s.html("");u.setRefreshStatus(false)}if(e.data["hasMore"]){u.setMoreStatus("HAS_MORE");if(r.loadMoreById){c["offsetId"]=e.data["offsetId"]}else{c["page"]=c["page"]+1}}else{if(i&&(e.html.match(/<\/[a-z0-9]+>/g)||[]).length<3){u.setMoreStatus("EMPTY")}else{u.setMoreStatus("NO_MORE")}}s.append(e.html);L.lazyLoadImage(s[0])},function(e){R.isFunction(r.afterLoad)&&r.afterLoad(e,c);R.isFunction(n)&&n(e,c);if(i){u.setRefreshStatus(false)}else{u.setMoreStatus("HAS_MORE")}I.toastWarning("加载失败")}).finally(function(){a=false;d&&d.removeAttr("disabled")});return true};var t=function e(t,n){if(u.getMoreStatus()!="HAS_MORE")return false;return i(t,n,false)};var n=function e(t,n){return i(t,n,true)};var u=L.ajaxListPuller({listDom:s,loadMoreParent:r.loadMoreParent,pullRefreshParent:r.pullRefreshParent,onLoadMore:function e(){return t()},onRefresh:function e(){return n()}});if(R.isFunction(r.onNewItem)){var l=s[0];new MutationObserver(function(e){return Array.from(e).forEach(function(e){if(e.type=="childList"&&e.addedNodes){Array.from(e.addedNodes).forEach(function(e){if(e.nodeType==Node.ELEMENT_NODE&&e.tagName=="DIV"&&e.parentElement==l&&e.childElementCount>1)r.onNewItem(e)})}})}).observe(l,{childList:true})}var d=null;if(r.filterBoxDom){var e=R.isJQuery(r.filterBoxDom)?r.filterBoxDom:$(r.filterBoxDom);d=e.find("select");d.on("change",function(){var e=$(this);var t=e.find(":checked").text();e.prev("span").text(t);d.each(function(){c[this.name]=this.value});n()});d.each(function(){var e=$(this),t=e.attr("default");if(t){var n=e.find("option[value='".concat(t,"']"));n.prop("selected",true);e.prev("span").text(n.text())}c[this.name]=this.value})}if(r.onRestore){var f=function e(){var t={html:s.html(),more:u.getMoreStatus(),param:c,top:pageYOffset,disable:o};history.replaceState(t,"")};s.on("click","a",f);s.on(P.AjaxListRedirect,f);if(R.isObject(history.state)){s.html(history.state.html);L.lazyLoadImage(s[0]);setTimeout(function(e){return scrollTo(0,e)},30,history.state.top);c=history.state.param;o=history.state.disable;u.setMoreStatus(history.state.more);history.replaceState(null,"");if(R.isFunction(r.onRestore)){r.onRestore(c)}}else{n()}}else{n()}return{loadMore:t,reload:n,setParams:function e(t,n){c[t]=n},enable:function e(){o=false},disable:function e(){o=true}}};L.mobileVerifyCode=function(i,r,a,e,o){if(!R.isJQuery(r))r=$(r);if(!R.isJQuery(a))a=$(a);var t=function e(t){r.attr("disabled","disabled");var n=a.serialize();if(t)n+="&captcha="+t;R.asyncSendAction(i,n,true,"正在发送","验证码发送失败").then(function(e){var t=60;var n=setInterval(function(){if(t===0){clearInterval(n);r.removeAttr("disabled");r.val("重新发送").text("重新发送")}else if(t<=58){r.val("重新发送("+t+")").text("重新发送("+t+")")}t=t-1},1e3);r.val("发送成功").text("发送成功");if(R.isFunction(o)){o(e)}},function(){r.removeAttr("disabled")})};r.on("click",function(){if(r.attr("disabled"))return;if(e){I.captcha(e,function(e){if(e){t(e)}})}else{t(false)}})};L.choseImageUpload=function(e,i){var r;if(R.isString(e)&&(e.startsWith("http")||e.startsWith("/"))){r=e}else if(R.isObject(e)&&e["tbzImg"]&&L.getConfig("unionConfig")){var t=L.getConfig("unionConfig"),n=t.portal,a=t.siteId;delete e["tbzImg"];r=location.protocol+"//"+n+X.uploadImage+"?siteId="+a+"&"+R.httpBuildQuery(e)}else{r=L.getRouteUrl("uploadImage",e)}R.openImageChose(function(e,t){var n=new FormData;n.append("file",e);R.asyncSendAction(r,n,true,"正在上传","图片上传失败").then(function(e){i(e.data)}).finally(function(){t()})})};L.asyncFormSubmit=function(i,r,a){if(!R.isJQuery(i))i=$(i);var o=i.find("[type=submit]");var s=null;var c=i.attr("action")||location.href;var u=String(i.attr("method")).toLowerCase()==="post";var l=i.data("captcha");var d=i.data("loading");d=d==="true"?true:d==="false"?false:d;var t=function e(t){o.attr("disabled","disabled");var n=i.serialize();if(l)n+="&captcha="+t;if(s&&s.is("[name]")){n+="&"+s.attr("name")+"="+encodeURIComponent(s.val())}R.asyncSendAction(c,n,u,d).then(function(e){R.isFunction(r)&&r.call(i[0],e)},function(e){R.isFunction(a)&&a.call(i[0],e)}).finally(function(){o.removeAttr("disabled")})};o.on("click",function(){s=$(this)});i.on("submit",function(e){if(!o.attr("disabled")&&!e.defaultPrevented){if(l){I.captcha(l,function(e){if(e){t(e)}})}else{t(false)}}e.stopPropagation();e.preventDefault();return false})};L.reportCustomerLocation=function(a,o){var i=function e(t,n){var i=L.getRouteUrl("reportLocation");var r={longitude:t,latitude:n};R.asyncSendAction(i,r,true,false).then(function(e){if(R.isFunction(a)){a(e.data)}},function(e){if(R.isFunction(o)){o(e.msg)}})};if(O.isAppClient){T.getPosition(true).then(function(e){var t=e.longitude,n=e.latitude;i(t,n)},function(e){if(R.isFunction(o)){o(e)}})}else{navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;i(t.longitude,t.latitude)},function(e){var t="地理位置接口汇报未知错误";switch(e.code){case e.PERMISSION_DENIED:t="用户拒绝了系统的定位请求";break;case e.POSITION_UNAVAILABLE:t="地理位置信息功能不可用";break;case e.TIMEOUT:t="地理位置信息获取超时";break}if(R.isFunction(o)){o(t)}},{enableHighAccuracy:false,timeout:2*60*1e3,maximumAge:30*60*1e3})}};L.openPaymentCheckout=function(e,t){var i=e.paymentType,r=e.tradeNumber,n=e.handlerType,a=e.handlerData;var o={wechat:"微信",alipay:"支付宝",income:"收益余额",deposit:"充值余额",union_wechat:"微信",union_alipay:"支付宝",xunhu_alipay:"支付宝",xunhu_wechat:"微信"}[i]||"";var s;var c=function e(){R.isJQuery(s)&&s.remove();R.isFunction(t)?t():I.toastSuccess("支付成功")},u=function t(n){var e={tradeId:r,type:i};R.asyncSendAction(L.getRouteUrl("paymentCheck"),e,false,"查询支付结果","支付检查失败").then(function(e){if(e.data["isPayment"])return c();if(n)return;I.dialog({title:"尚未支付成功",content:["您还没有付款成功，请在"+o+"中完成支付操作。","如支付过程中遇到问题，您可尝试重新发起支付，或者联系平台客服人员。","如果您确实已支付成功的话，请不要着急，可能由于数据延迟，请稍等一会后重新查询支付结果。"].join("<br/>"),multiBtn:true,buttons:[{title:"重新检查支付结果",callback:t,color:I.COLOR_PRIMARY,close:true},{title:"支付遇到问题，重新支付",color:I.COLOR_GRAY,close:true}]})})},l=function e(t){I.toastLoading("跳转"+o,t*1e3);setTimeout(function(){return s=I.dialog({title:"请确认"+o+"支付是否已完成",multiBtn:true,buttons:[{title:"已完成支付",callback:function e(){return u(false)},color:I.COLOR_PRIMARY,close:true},{title:"支付遇到问题，重新支付",callback:function e(){return u(true)},color:I.COLOR_GRAY,close:true}]})},t*1e3)},d=function e(t){var n=L.getRouteUrl("qrcode",{data:a,size:300,margin:0});I.viewMiniQrcode(n,t,u)};if(n=="ALIPAY_APP"){l(2);T.paymentAlipay(a,null,"支付失败").then(c);return}if(n=="WECHAT_APP"){l(5);T.paymentWechat(a,null,"支付失败").then(c);return}if(n=="WECHAT_JSAPI"){l(2);f.wechatPayment(a,c);return}if(n=="REDIRECT"){l(0);location.href=a;return}if(n=="SCHEME"){l(5);return R.openScheme(a)}if(n=="QR_SAVE"){return d("请截图保存上面的二维码<br/>打开"+o+"扫一扫进行支付")}if(n=="QR_MOBILE"){return d("请掏出手机打开"+o+"<br/>扫上面的二维码完成支付")}if(n=="QR_PRESS"){return d("请长按上面的二维码<br/>识别二维码完成支付")}if(n=="INNER"){R.asyncSendAction(a.url,{data:a.data},true,"正在支付...").then(c,function(t){if(t.code==-1001){I.alert("收益余额不足","您的收益账户余额不足，无法完成本次交易，请选择其他方式进行支付。")}else if(t.code==-1002){I.dialog({title:"充值余额不足",content:"您充值的余额不足，无法完成本次交易。您可以先对账户进行充值，或选择其他方式进行支付。",buttons:[{title:"我要充值",callback:function e(){return location.href=t.data["rechargeUrl"]},color:I.COLOR_PRIMARY,close:true},{title:"放弃支付",color:I.COLOR_GRAY,close:true}]})}else{I.alert("支付失败",t.msg)}});return}I.toastWarning("支付处理异常")};L.navigatorShare=function(e,t){if("share"in navigator){return navigator.share({text:e,title:e,url:t})}else{return Promise.reject("Not support web share api")}};L.openSharePlatform=function(e,n,t,i){if(!R.isObject(t))t=null;if(!R.isFunction(i))i=Function();var r=function e(t){return I.toastLoading(t||"正在分享",2500)};var a=function e(){var t=new Event(P.ShareSuccess,{bubbles:true,cancelable:true});t["platform"]=n;_.dispatchEvent(t)};if(e=="web"){var o=t?t.title:L.metaOpenGraph("title"),s=t?t.url:L.metaOpenGraph("url"),c=t?t.urlShort:L.metaOpenGraph("url_short"),u=t?t.desc:L.metaOpenGraph("description"),l=t?t.image:L.metaOpenGraph("image");if(n=="copy_link"){R.copyText(c||s)}else if(n=="copy_text"){var d=o+"\r\n"+(c||s);R.copyText(d)}else if(O.isWechatBrowser){if(n=="more"){L.navigatorShare(o,c||s).then(a)}else{I.alert("微信分享提示","请点击右上角的按钮，再选择分享渠道进行分享。")}}else if(O.isQQBrowser){var f=R.getObject(E,"browser","app","share");if(R.isFunction(f)){r()&&i();var p={wechat_moments:8,wechat_friend:1,qq_mobile:4,qq_zone:3,sina_weibo:11}[n];var h={to_app:p,url:s,title:o,description:u,img_url:l,img_title:o,cus_txt:o};f(h,function(e){if(R.isObject(e)){var t=O.isAppleDevice?parseInt(e["code"])===1:parseInt(e["result"])===0;if(t){a();I.toastSuccess("分享成功")}}})}else{I.toastWarning("QQ浏览器异常")}}else if(O.isUCBrowser){if("ucbrowser"in E&&"web_shareEX"in E.ucbrowser){r()&&i();var v={wechat_moments:"kWeixinFriend",wechat_friend:"kWeixin",qq_mobile:"KQQ",qq_zone:"KQZone",sina_weibo:"kSinaWeibo"}[n]||0;var m={title:o,content:u,sourceUrl:s,target:v,source:"",htmlNode:"",imageUrl:l};E.ucbrowser.web_shareEX(JSON.stringify(m))}else if("ucweb"in E&&"startRequest"in E.ucweb){r()&&i();var g={wechat_moments:"WechatTimeline",wechat_friend:"WechatFriends",qq_mobile:"QQ",qq_zone:"QZone",sina_weibo:"SinaWeibo"}[n]||0;var b=[o,u,s,g];E.ucweb.startRequest("shell.page_share",b)}else{I.toastWarning("UC浏览器异常")}}else if(O.isAppClient){var y={wechat_moments:"WechatMoments",wechat_friend:"WechatFriend",qq_mobile:"QQMobile",qq_zone:"QQZone",sina_weibo:"SinaWeibo",alipay:"Alipay"}[n];if(O.isAndroidDevice&&["WechatMoments","WechatFriend"].includes(y)&&L.getConfig("appAndroidWecaht")=="agency"){r()&&i();T["shareAndroidAgency"+y.substr(6)](o,u,s,l,null,"分享失败")}else if(y&&T["share"+y]){r()&&i();T["share"+y](o,u,s,l,"分享成功","分享失败").then(function(){return a()})}else{I.toastWarning("APP参数异常")}}else if((n=="ios_social"||n=="more")&&"share"in navigator){L.navigatorShare(o,c||s).then(a)}else{I.alert("分享提示","当前浏览器不允许自动分享，请手动点击浏览器自带的分享按钮进行分享。")}}else if(e=="slogan"||e=="image"){var w=t?t.text:L.metaOpenGraph("title")+"\r\n"+L.metaOpenGraph("url"),A=t?t.images:[(e=="image"?L.metaOpenGraph("banner"):null)||L.metaOpenGraph("image")];if(n=="save_picture"){if(O.isAppClient){var C=A.length;var S=function e(t){var n=I.toastLoading("正在保存(".concat(t,"/").concat(C,")"));T.savePicture(A[t-1]).then(function(){if(t<C){e(t+1)}else{I.toastSuccess("保存成功")}},function(e){if(e.includes("拒绝")&&e.includes("权限")){e="您拒绝提供存储权限，无法保存图片。请在手机的设置-应用管理中将本APP的存储权限修改为允许。"}I.alert("图片保存失败","第".concat(t,"张图片保存失败,").concat(e))}).finally(function(){n.remove()})};S(1)}else{I.alert("保存提示","您的浏览器无法直接保存图片，请长按上述预览图，在弹出的菜单中选择保存。")}}else if(n=="copy_text"){R.copyText(w)}else if(O.isWechatBrowser){if(n=="wechat_friend"){I.alert("微信分享提示","请先复制文案，再长按图片，选择发送给朋友选项，粘贴文案后进行发送。")}else{I.alert("微信分享提示",["第一步：长按图片，选择保存图片选项，将图片保存到相册。","第二步：点击复制文案按钮，将文案复制到剪切板。","第三步：点击右上角按钮，选择浮窗选项。。","第四步：前往朋友圈，从相册中选择刚才保存的图片，粘贴文案进行发送。"].join("<br/>"))}}else if(O.isAppClient){var x=e=="slogan";var k=new Promise(function(t){if(x){R.copyText(w,false).finally(function(){if(localStorage.getItem("shareSloganHideCopy")){t()}else{I.dialog({title:"分享提示",content:"已成功复制分享文案，如弹出的分享对话框中没有自动填写文案，请手动粘贴再进行分享!",buttons:[{title:"不再提示",callback:function e(){localStorage.setItem("shareSloganHideCopy","Y");t()},color:I.COLOR_ORANGE,close:true},{title:"继续分享",callback:function e(){t()},color:I.COLOR_PRIMARY,close:true}]})}})}else{t()}});k.then(function(){r(x?"文案已复制<br/>正在跳转分享":null)&&i();if(O.isAppleDevice){T.shareIOSMore(x?w:"",A,null,"分享失败")}else{var e={wechat_moments:"WechatMoments",wechat_friend:"WechatFriend",qq_mobile:"QQMobile",qq_zone:"QQZone",sina_weibo:"SinaWeibo",more:"More"};var t="shareAndroid"+e[n];T[t](x?w:"",A,null,"分享失败").then(function(){return a()})}})}else{I.alert("分享提示","当前浏览器不允许自动分享，请手动保存图片或复制文案之后，再打开社交软件进行分享。")}}else{I.toastWarning("分享类型参数异常")}};L.scanQRCode=function(){if(O.isAppClient&&O.isAppleDevice){T.scanQRCode(null,"扫码失败").then(function(e){var t=e.result;if(R.isString(t)&&/^(http|https):\/\//i.test(t)){location.href=t}else{I.toastWarning("不支持该二维码")}})}else{I.toastWarning("不支持扫码")}};L.alterTitle=function(e){$("#header-title > .main > h1.title").text(e)};L.metaOpenGraph=function(e,t){var n=_.head.querySelector('meta[property="og:'+e+'"]');if(R.isElement(n)){if(arguments.length>1){n.content=t}else{return n.content}}};L.backPage=function(){var e=new Event(P.PageBack,{bubbles:true,cancelable:true});_.dispatchEvent(e);if(!e.defaultPrevented){if(_.referrer){history.back()}else{location.replace(L.getConfig("defaultDomain"))}}};L.onNextEvent=function(t){var n=["touchstart","touchend","click","input","keydown","keyup","mousedown","mouseup"];var i=false;var r=function e(){return(i=true)&&n.forEach(function(e){return _.removeEventListener(e,a,true)})};var a=function e(){return!i&&t()===true&&r()};n.forEach(function(e){return _.addEventListener(e,a,true)});return r};var Z;L.loadOutsideImage=function(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!Z){var t=_.createElement("iframe");t.setAttribute("style","position:fixed;top:-100px;left:-100px;width:1px;height:1px;");t.setAttribute("sandbox","allow-same-origin allow-scripts");_.body.appendChild(t);Z=t.contentWindow}return new Promise(function(t,n){var i=new Z.XMLHttpRequest;i.responseType="blob";i.addEventListener("readystatechange",function(){if(i.readyState===XMLHttpRequest.OPENED){i.setRequestHeader("Accept","image/*")}else if(i.readyState===XMLHttpRequest.DONE){if(i.status>=200&&i.status<300){if(r){t(URL.createObjectURL(i.response))}else{var e=new FileReader;e.onloadend=function(){return t(e.result)};e.onerror=n;e.readAsDataURL(i.response)}}else{n()}}});i.open("GET",e,true);i.send()})};var p=[];var ee=null;var h=function e(){if(ee)return;ee=setTimeout(function(){var u=_.documentElement.clientWidth,l=_.documentElement.clientHeight;var e=function e(t){var n=p[t];if(!n||!n.parentElement)return"continue";var i=n.getBoundingClientRect(),r=i.top,a=i.left,o=i.width,s=i.height;if(r<l&&a<u&&o>0&&s>0){var c=n.dataset["lazy"];n.removeAttribute("data-lazy");p.splice(t,1);if(n.getAttribute("referrerPolicy")=="no-referrer"&&!("referrerPolicy"in Image.prototype)){L.loadOutsideImage(c).then(function(e){return n.src=e})}else{n.src=c}}};for(var t=p.length-1;t>=0;t--){var n=e(t);if(n==="continue")continue}ee=null},200)};_.addEventListener("scroll",h,true);_.addEventListener("resize",h);setInterval(h,2e3);L.lazyLoadImage=function(e){e.querySelectorAll("img[data-lazy]").forEach(function(e){if(p.indexOf(e)>=0)return;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC";p.push(e)});h()};L.pageIsShowed=function(){return R.hasPageData("page_showed")};L.formatDateDiff=function(e,t){if(!(e instanceof Date))e=new Date(e);var n=(Date.now()-e.getTime())/1e3;if(n<2*60)return"刚刚";if(n<60*60)return(n/60).toFixed(0)+"分钟前";if(n<3*60*60)return(n/60/60).toFixed(0)+"小时前";var i=(new Date).setHours(0,0,0,0);if(t){var r=[e.getHours(),e.getMinutes()].map(function(e){return String(e).padStart(2,"0")}).join(":");if(e>=new Date(i))return r;if(e>=new Date(i-24*3600*1e3))return"昨天 "+r;if(e>=new Date(i-48*3600*1e3))return"前天 "+r;if(e>=new Date(i-6*24*3600*1e3))return"星期"+["日","一","二","三","四","五","六"][e.getDay()]+" "+r;var a=[e.getMonth()+1,e.getDate()].map(function(e){return String(e).padStart(2,"0")}).join("-");return e.getFullYear()==(new Date).getFullYear()?a+r:e.getFullYear()+"-"+a+r}else{if(n<24*60*60)return(n/60/60).toFixed(0)+"小时前";if(e>=new Date(i-24*3600*1e3))return"昨天";if(e>=new Date(i-48*3600*1e3))return"前天";if(e>=new Date(i-6*24*3600*1e3))return"星期"+["日","一","二","三","四","五","六"][e.getDay()];return(n/24/60/60).toFixed(0)+"天前"}};var te=function e(t){if("converPopup"in r&&"chatWindow"in r&&"Vue"in E){t()}else{var n=I.toastLoading("加载资源");var i=["plugin/vue/vue.js","front/chat.js","front/reward.css"];L.requireResource(i).then(t,function(){I.alert("加载失败","加载聊天功能业务逻辑失败")}).finally(function(){n.remove()})}};L.openConverPopup=function(){return te(function(){return r.converPopup()})};L.openChatWindow=function(e,t,n){return te(function(){return r.chatWindow({keyType:e,keyValue:t,isUnion:n})})};L.chatPushNotify=function(){var n=function e(){return setTimeout(t,8e3)};var i=0;var t=function e(){if(_.getElementById("conver-list")||_.querySelector("body > .chat-window")||_.hidden){return n()}var t=L.getConfig("defaultDomain")+"/user/chat/notify";R.asyncSendAction(t,{times:++i},false,false,false).then(function(e){var t=e.data;if(!t.newMessage)return;var n=t.messageCount,i=t.converCount,r=t.citeMessage;var a;if(n==1){a="".concat(r.userNick,"：").concat(r.content)}else if(i==1){a="[".concat(r.userNick,"]发来").concat(n,"条新消息")}else{a="[".concat(r.userNick,"]等").concat(i,"人发来").concat(n,"条新消息")}var o;if(i==1){o=function e(){return L.openChatWindow("conver",r.converId,r.isUnion)}}else{o=function e(){return L.openConverPopup()}}var s=L.formatDateDiff(r.createTime*1e3,true);I.showMessage("收到新消息",s,a,null,o)}).finally(n)};setTimeout(t,2e3)};L.openCussrvWindow=function(){if("cussrvWindow"in r&&"Vue"in E){r.cussrvWindow()}else{var e=I.toastLoading("加载资源");var t=["plugin/vue/vue.js","front/cussrv.js","front/cussrv.css"];L.requireResource(t).then(function(){r.cussrvWindow()},function(){I.alert("加载失败","加载聊天功能业务逻辑失败")}).finally(function(){e.remove()})}};var v={loadParamsToRun:function e(t,n,i){var r=L.getConfig("defaultDomain")+(t.startsWith("/")?t:"/third/"+t);R.asyncSendAction(r,n,false,"加载服务","服务加载失败").then(function(e){var t=I.toastLoading("启动服务");i(e["data"]||{}).then(function(){setTimeout(function(){t.remove();$("#footer-navigate").trigger("close");I.toastSuccess("启动成功",2e3)},1e3)},function(e){t.remove();I.alert("服务启动失败",e||"")})})},checkMokuChannel:function(){return !(navigator.userAgent.includes('MokuCPL/')&&I.alert('该功能正在开发中，敬请期待'))},checkAppEnv:function e(t){if(!O.isAppClient){return!I.dialog({title:"请下载APP使用",content:"该功能仅支持Android手机客户端使用，请使用Android手机下载并安装APP后再来使用。",buttons:[{title:"立即下载",callback:function e(){return location.href="/down_app"},color:I.COLOR_PRIMARY},{title:"取消",color:I.COLOR_GRAY,close:true}]})}else if(t===true&&!O.isAndroidDevice){return!I.alert("仅支持Android端","该功能仅在Android平台的APP客户端中提供")}return true},checkPhoneStatePermission:function e(t,n){if(O.isAppleDevice)return n(true);return T.requestPermission("READ_PHONE_STATE",null,"检查权限异常").then(function(e){if(t&&e.denied){return I.alert("您未允许获取设备信息权限，无法使用该功能。")}else{return n(e.granted)}})},launchWebPage:function e(t,n){this.loadParamsToRun(t,n,function(e){var t=e.url;if(!R.isString(t)||!t.startsWith("http")){return Promise.reject("服务加载返回的URL异常")}if(O.isAppClient){return T.openWebPage(t)}else{location.href=t;return Promise.resolve()}})},launchGameDemo:function e(s,c){var u=this;if(!this.checkAppEnv())return;this.checkPhoneStatePermission(true,function(){return Promise.all([T.getDeviceIdentifier(null,"获取设备标识错误"),T.getClientInfo(null,"获取设备信息错误")]).then(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];var r=function e(t){return u.loadParamsToRun(s,t,c)};if(O.isAppleDevice){var a=n["deviceId"]||null;if(R.isString(a)&&RegExp("^[0-f-]{36}$").test(a)){r({deviceId:a,systemVersion:i["version"],mobileModel:i["model"]})}else if(O.iOSVersion<14){I.alert("未开启广告标识","您限制了广告标识符追踪，请在“手机设置-隐私-广告-限制广告追踪”中进行关闭限制。")}else{I.alert("未开启广告标识","您限制了广告标识符追踪，请在“手机设置-隐私-跟踪”中，开启“允许APP请求跟踪”功能。")}}else{var o={androidSdk:i["androidSdk"],systemVersion:i["version"],mobileBrand:i["brand"],mobileModel:i["model"],mdidOAID:n["mdidOAID"]};if(parseInt(i["androidSdk"])<29){Object.assign(o,{deviceId:n["deviceId"],deviceId1:n["deviceId1"],deviceId2:n["deviceId2"],mobileId:n["mobileId"],androidId:n["androidId"],buildSerial:n["buildSerial"],simSerial:n["simSerial"]})}r(o)}})})},launchPangleDrama:function e(){if(!this.checkAppEnv(true))return;this.loadParamsToRun("/drama/launch_slide",null,function(e){return T.showPangleDramaSlide(e.sessionId)})},launchPangleLittle:function e(n,i){var t=this;if(!this.checkAppEnv(true))return;this.checkPhoneStatePermission(false,function(){t.loadParamsToRun("/pangle_video/launch",{type:i.toLowerCase()},function(e){var t=Object.assign(e["extArgs"],R.isObject(n)?n:{});return T["showPangleLittle"+i](t)})})},launchKwaiLittle:function e(n,i){var t=this;if(!this.checkAppEnv(true))return;this.checkPhoneStatePermission(false,function(){t.loadParamsToRun("/kwai_video/launch",{type:i.toLowerCase()},function(e){var t=Object.assign(e["extArgs"],R.isObject(n)?n:{});return T["showKwaiLittle"+i](e["contentId"],t)})})}};L.launchZrbrw=function(){return v.launchWebPage("zrbrw",{})};L.launchMeeduo=function(){return v.launchWebPage("meeduo",{})};L.launchTuia=function(e){return v.launchWebPage("tuia",{advertId:e})};L.launchJuTuiKe=function(e){return v.launchWebPage("jutuike",{activeId:e})};L.launchXianWan=function(){return v.launchGameDemo("xianwan",T.openXianWan)};L.launchHaoLiang=function(){return v.launchGameDemo("haoliang",T.openHaoLiang)};L.launchZhuanBang=function(){return v.launchGameDemo("zhuanbang",T.openZhuanBang)};L.launchXiangWan=function(){return v.launchGameDemo("xiangwan",T.openXiangWan)};L.launchDuoYou=function(){return v.launchGameDemo("duoyou",T.openDuoYou)};L.launchTaoJin=function(){return v.launchGameDemo("taojin",T.openTaoJin)};L.launchShangWa=function(){return v.launchGameDemo("shangwa",T.openShangWa)};L.launchShanYou=function(){return v.checkAppEnv(false)&&v.loadParamsToRun("shanyou",{},T.openShanYou)};L.launchZhuanLe=function(){return v.checkAppEnv(false)&&v.loadParamsToRun("zhuanle",{},T.openZhuanLe)};L.launchMokuXQ=function(){return v.checkMokuChannel()&&v.checkAppEnv(true)&&v.loadParamsToRun("mokuxq",{},function(e){var t=e.userId;return T.openMokuXQ(t)})};L.launchMokuDD=function(){return v.checkMokuChannel()&&v.checkAppEnv(true)&&v.loadParamsToRun("mokuxq",{},function(e){var t=e.userId;return T.openMokuDD(t)})};L.launchPangleSlide=function(e){return v.launchPangleLittle(e,"Slide")};L.launchPangleFeed=function(e){return v.launchPangleLittle(e,"Feed")};L.launchPangleDrama=function(){return v.launchPangleDrama()};L.launchKwaiSlide=function(e){return v.launchKwaiLittle(e,"Slide")};L.launchKwaiFeed=function(e){return v.launchKwaiLittle(e,"Feed")};L.launchKwaiHoriz=function(e){return v.launchKwaiLittle(e,"Horiz")};var g=Object.prototype.toString;R.jsonEncode=function(e){var t=JSON.stringify(e);return t.replace(/[\u007f-\uffff]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})};R.htmlEscape=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")};R.upperCaseFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};R.isCrossDomain=function(e){var t=_.createElement("a");t.href=e;return location.origin!==t.origin};R.printf=function(){var e=arguments.length;var t=arguments[0];for(var n=1;n<e;n++){var i="\\{"+(n-1)+"\\}";var r=new RegExp(i,"g");t=t.replace(r,arguments[n])}return t};R.timestamp=function(e){var t=Date.now();return e?Math.floor(t/1e3):t};R.mathCeil=function(e,t){var n=Math.pow(10,t);return Math.ceil(e*n)/n};R.isElement=function(e){return e&&_typeof(e)==="object"&&e.nodeType===1};var ne=jQuery();R.isJQuery=function(e){return e&&_typeof(e)==="object"&&e.constructor===ne.constructor};R.isArray=function(e){return _typeof(e)==="object"&&g.call(e)==="[object Array]"};R.isObject=function(e){return _typeof(e)==="object"&&g.call(e)==="[object Object]"};R.getObject=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}for(var r=0;r<n.length;r++){if(_typeof(e)!=="object")return null;if(!(n[r]in e))return null;e=e[n[r]]}return e};R.objectExtend=function(){var e={};for(var t=0;t<arguments.length;t++){Object.assign(e,arguments[t])}return e};R.isFunction=function(e){return e instanceof Function};R.isBoolean=function(e){return e===true||e===false};R.isString=function(e){return typeof e==="string"&&g.call(e)==="[object String]"};R.isNumber=function(e){return typeof e==="number"&&g.call(e)==="[object Number]"&&!isNaN(e)};R.isText=function(e){if(!e||!R.isString(e))return false;return e.trim().length>0};R.closeLastEvent=function(e){var t=e||E.event||null;if(t&&"type"in t){t.stopPropagation();t.preventDefault();return false}};R.objectEach=function(e,t){var n=Object.keys(e);for(var i=0;i<n.length;i++){var r=n[i],a=e[r];if(t(a,r)===false){return}}};R.arrayShuffle=function(e){if(R.isArray(e)){return e.map(function(e){return[Math.random(),e]}).sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]})}else{return e}};R.httpBuildQuery=function(e){if(typeof e==="string"){return e}else if(R.isObject(e)){var n=[];R.objectEach(e,function(e,t){if(e===null||e===undefined){return}else if(typeof e==="number"&&isNaN(e)){e=0}else if(R.isArray(e)){e=e.join(",")}else if(R.isObject(e)){e=JSON.stringify(e)}else if(R.isBoolean(e)){e=e?1:0}n.push(t+"="+encodeURIComponent(e))});return n.join("&")}else{return""}};R.appendUrlParams=function(n){var i=n.indexOf("?")>1;for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++){t[r-1]=arguments[r]}t.forEach(function(e){var t=R.httpBuildQuery(e);if(t){if(i){n+="&"+t}else{n+="?"+t;i=true}}});return n};var ie=null,re=0;R.asyncSendAction=function(m,g,b,y,w){return new Promise(function(r,a){function e(){y=y?I.toastLoading(R.isString(y)?y:""):null}function t(){R.isJQuery(y)&&y.remove()}function o(e){a(e);if(R.isString(w)&&w.length>1){if(e.code==-981){I.toastWarning("放弃登录",1e3)}else{var t=R.isObject(e.data)?e.data:{};var n=[],i=false;if(R.isArray(t.buttons)){i=true;t.buttons.forEach(function(t){return n.push({title:t.title,color:t.color||I.COLOR_PRIMARY,callback:function e(){return location.href=t.url}})});n.push({title:"取消",color:I.COLOR_GRAY,close:true})}else if(R.isObject(t.button)){n.push({title:"取消",color:I.COLOR_GRAY,close:true});n.push({title:t.button.title,color:t.button.color||I.COLOR_PRIMARY,callback:function e(){return location.href=t.button.url}})}else{n.push({title:"确定",color:I.COLOR_PRIMARY,close:true})}I.dialog({title:t.title||w,content:t.message||e.msg,multiBtn:i,buttons:n})}}}function n(t,n){var i=n instanceof XMLHttpRequest;var e=t;if(R.isString(e)){try{e=JSON.parse(e)}catch(e){L.reportFrontendError({errorType:"ajax parse json error",location:location.href,url:m,method:b?"POST":"GET",response:t,error:e.message,status:i?n.status:"jsonp",header:i?n.getAllResponseHeaders():"jsonp"});return s("JSON响应解析失败!")}}if(!R.isObject(e)){L.reportFrontendError({errorType:"ajax wrong object type",location:location.href,url:m,method:b?"POST":"GET",currentType:_typeof(e),response:t,status:i?n.status:"jsonp",header:i?n.getAllResponseHeaders():"jsonp"});return s("响应内容格式无法解析")}if(e.code===0){r(e)}else if(e.msg=="LOGIN_REQUIRED"){I.showLoginTip(function(){return s("用户放弃了登录，操作终止。",-981)})}else{if(e.msg===""){e.msg="系统繁忙，请刷新页面后重新操作。"}o(e)}}function s(e,t){o({code:t||-999,msg:e,html:null,data:null})}var i=m+"$$"+(g instanceof FormData?"form":JSON.stringify(g)),c=Date.now();if(ie==i&&c-re<=500){s("请求过于频繁",-982);t();return}ie=i;re=c;var u=R.isCrossDomain(m);if(u&&!b){var l=_.createElement("script");var d=A.uniqueId("jsonp");E[d]=function(e){n(e);delete E[d];l.remove()};l.addEventListener("load",function(){t()});l.addEventListener("error",function(){s("通信失败，请检查网络连接");t()});l.src=R.appendUrlParams(m,{_callback:d},g);e();_.body.appendChild(l)}else{var f=new XMLHttpRequest;if(u){f.withCredentials=true}f.addEventListener("readystatechange",function(){if(f.readyState===XMLHttpRequest.OPENED){f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.setRequestHeader("Accept","application/json"+(O.supportWebP?", image/webp":""));e()}else if(f.readyState===XMLHttpRequest.DONE){if(f.status>0){n(f.responseText,f);t()}else{s("通信失败，请检查网络连接")}}});if(b){var p=u?m:R.appendUrlParams(m,{_random:A.uniqueId()});f.open("POST",p,true);if(g instanceof FormData){if(g.keys().next().done){g.append("_empty_post","1")}f.send(g)}else if(R.isObject(g)&&"#type"in g&&"#body"in g){f.setRequestHeader("Content-Type",g["#type"]||"text/plain");f.send(g["#body"]||null)}else{f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var h=R.httpBuildQuery(g);if(h==="")h="_empty_post=1";f.send(h)}}else{var v=R.appendUrlParams(m,{_random:A.uniqueId()},g);f.open("GET",v,true);f.send(null)}}})};var ae=null;R.getRequestParams=function(e){if(ae==null){ae=new URLSearchParams(location.search)}if(e!==undefined){return ae.get(e)}else{return ae}};R.setCookie=function(e,t,n,i){var r=encodeURIComponent(e)+"="+encodeURIComponent(t);if(R.isNumber(n)){var a=new Date(Date.now()+n*1e3);r+=";expires="+a.toUTCString()}else if(n instanceof Date){r+=";expires="+n.toUTCString()}else if(n=="max"){r+=";expires="+new Date(21e11).toUTCString()}if(R.isString(i)){r+=";path="+i}else if(i===true){r+=";path="+location.pathname}else{r+=";path=/"}_.cookie=r};R.getCookie=function(e){var t=new RegExp("(^|; )"+e+"=([^;]*)(; |$)");var n=_.cookie.match(t);if(n){return decodeURIComponent(n[2])}else{return null}};R.base64Encode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))};R.base64Decode=function(e){return decodeURIComponent(Array.prototype.map.call(atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))};var b="p_"+_.documentElement.dataset["requestId"]+"_";R.setPageData=function(e,t){if(t===undefined||t===null)t="";return sessionStorage.setItem(b+e,t)};R.getPageData=function(e){return sessionStorage.getItem(b+e)};R.hasPageData=function(e){return b+e in sessionStorage};R.allPageData=function(){var n={};var i=b.length;Object.keys(sessionStorage).filter(function(e){return e.indexOf(b)===0}).forEach(function(e){var t=e.substr(i);n[t]=sessionStorage.getItem(e)});return n};R.removePageData=function(e){return sessionStorage.removeItem(b+e)};R.clearPageData=function(){Object.keys(sessionStorage).filter(function(e){return e.indexOf(b)===0}).forEach(function(e){return sessionStorage.removeItem(e)})};R.copyTextBrowser=function(e){if(!O.supportCopyCommand)return false;var t=_.createElement("textarea");_.body.appendChild(t);setTimeout(function(){return _.body.removeChild(t)},1e3);t.style.position="fixed";t.style.top="-9999px";t.style.left="-9999px";t.value=e;t.readOnly=true;t.setAttribute("readonly","");t.select();t.setSelectionRange(0,e.length);try{return!!_.execCommand("copy")}catch(e){R.printLog("copy text browser fail: "+e.message);return false}};R.copyText=function(r,a,o){return new Promise(function(t,n){var e=function e(){if(R.isString(a)){I.toastSuccess(a)}else if(a!==false){I.toastSuccess("复制成功")}t()},i=function e(){if(R.isString(o)){I.alert("复制失败",o)}else if(o!==false){prompt("您的设备无法直接复制文字，请手动复制。",r)}n()};if(O.isAppClient){T.copyText(r).then(e,i)}else if("clipboard"in navigator){navigator.clipboard.writeText(r).then(e,i)}else{R.copyTextBrowser(r)?e():i()}})};R.clearClipboard=function(){if(O.isAppClient){return T.copyText("")}else if("clipboard"in navigator){return navigator.clipboard.writeText("")}else{R.copyTextBrowser("")?Promise.resolve():Promise.reject()}};R.readClipboard=function(){if(O.isAppClient){return T.getClipboard().then(function(e){return Promise.resolve(e.text)},function(e){return Promise.reject(e)})}else if("clipboard"in navigator&&"readText"in navigator.clipboard){return navigator.clipboard.readText()}else{return Promise.reject("Not support")}};R.openImageChose=function(n){R.openFileChose(false,"image/*",function(e,t){if(!e||!e.size)return t();if(!e.type.startsWith("image/"))return I.alert("请选择图片文件")&&t();if(!e.size>10*1024*1024)return I.alert("选择的图片大小不得大于10M")&&t();n(e,t)})};R.openFileChose=function(e,t,n){var i=_.createElement("input");_.body.appendChild(i);var r=function e(){return _.body.removeChild(i)};setTimeout(r,10*60*1e3);i.className="hidden";i.type="file";i.multiple=!!e;if(R.isArray(t)){i.accept=t.join(", ")}else if(R.isString(t)&&t.length>1){i.accept=t}else{i.accept="*/*"}i.addEventListener("change",function(){if(i.files.length>0){if(e){n(Array.from(i.files),r)}else{n(i.files[0],r)}}});i.click()};R.decodeQRCode=function(e,a,o){if(!R.isFunction(a))a=Function();if(!R.isFunction(o))o=Function();var t=function e(t){var n=new FileReader;n.readAsDataURL(t);n.addEventListener("load",function(){return i(n.result)});n.addEventListener("error",function(){return o("File read error")})};var i=function e(t){var n=new Image;n.src=t;r(n)};var r=function e(a){var t=function e(){var t=a.naturalWidth,n=a.naturalHeight;if(t<2||n<2)return o("Image render error");var i=_.createElement("canvas");i.width=t;i.height=n;var r=i.getContext("2d");r.drawImage(a,0,0,t,n);s(i)};if(a.complete){t()}else{a.addEventListener("load",t);a.addEventListener("error",function(){return o("Image load error")})}};var s=function e(n){var t=n.getContext("2d");var i=t.getImageData(0,0,n.width,n.height);var r=function e(){var t=E.jsQR(i.data,n.width,n.height,{inversionAttempts:"attemptBoth"});a(t&&R.isObject(t)?{data:t.data,location:t.location}:null)};if(R.isFunction(E.jsQR)){r()}else{L.requireScript("plugin/jsQR/jsQR").then(function(){return r()},function(){o("jsQR plugin load fail")})}};var n=g.call(e).substring(8);switch(n){case"File]":return t(e);case"String]":return i(e);case"HTMLImageElement]":return r(e);case"HTMLCanvasElement]":return s(e);default:return o("Source type unknown")}};R.openScheme=function(e){if(O.isWechatBrowser&&O.isAppleDevice&&e.startsWith("alipay")){location.href="https://ulink.alipay.com/?scheme="+encodeURIComponent(e)}else if(O.isAppClient){T.openUrlScheme(e)}else if(O.isAppleDevice){var t=_.createElement("a");t.setAttribute("href",e);t.style.display="none";_.body.appendChild(t);setTimeout(function(){return _.body.removeChild(t)},3e3);var n=_.createEvent("HTMLEvents");n.initEvent("click",false,false);t.dispatchEvent(n)}else{var i=_.createElement("iframe");i.setAttribute("src",e);i.style.display="none";_.body.appendChild(i);setTimeout(function(){return _.body.removeChild(i)},3e3)}};R.movePoint=function(e,t){var n=Math.pow(10,t>0?t:2);return String(parseInt(e*n)/n)};R.printLog=function(e){if(!O.enableLog)return;var t=new Date,n=function e(t,n){return String(t).padStart(n?3:2,"0")};var i="".concat(n(t.getFullYear()),"-").concat(n(t.getMonth()+1),"-").concat(n(t.getDate()));var r="".concat(n(t.getHours()),":").concat(n(t.getMinutes()),":").concat(n(t.getSeconds()),".").concat(n(t.getMilliseconds(),true));var a=[];a.push(e+" "+i+" "+r);for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++){s[c-1]=arguments[c]}s.forEach(function(e){if("VConsole"in E&&(R.isObject(e)||R.isArray(e))){e=JSON.stringify(e)}a.push("\n",e)});console.log.apply(console,a)};var y,w=false;f.config=function(t){if(!O.isWechatBrowser||!E["jWeixin"]||!R.isObject(t)||!t.appId)return false;y=E["jWeixin"];w=true;y.config({debug:t.debug,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]});y.error(function(e){w=false;L.reportFrontendError({location:location.href,error:e["errMsg"]+"",config:t});if((e["errMsg"]+"").indexOf("signature")>1){setTimeout(function(){E.location.reload(true)},200)}})};f.apply=function(e,t){R.printLog("调用微信JS接口:"+e,t);if(w&&R.isFunction(y[e])){y.ready(function(){y[e](t)})}};f.menuShare=function(r,a,o,s){if(!w||R.isCrossDomain(a)){return false}[["onMenuShareTimeline","wechat_moments"],["onMenuShareAppMessage","wechat_friend"],["onMenuShareQQ","qq_mobile"],["onMenuShareQZone","qq_zone"],["onMenuShareWeibo","other"]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];f.apply(n,{title:r||"",link:a||"",desc:o||"",imgUrl:s||"",type:"link",dataUrl:"",success:function e(){var t=new Event(P.ShareSuccess,{bubbles:true,cancelable:true});t["platform"]=i;_.dispatchEvent(t)}})});return true};f.wechatPayment=function(e,t){f.apply("chooseWXPay",Object.assign({success:function e(){return R.isFunction(t)&&t()}},e))};f.isEnable=function(){return w};A.STR_UPPER=1<<0;A.STR_LOWER=1<<1;A.STR_DIGIT=1<<2;A.STR_HEX=1<<3;var oe=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var se=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var ce=["1","2","3","4","5","6","7","8","9","0"];var ue=["1","2","3","4","5","6","7","8","9","0","a","b","c","d","e","f"];A.random_string=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.STR_UPPER|this.STR_LOWER|this.STR_DIGIT;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=[].concat(t&this.STR_UPPER?oe:[],t&this.STR_LOWER?se:[],t&this.STR_DIGIT?ce:[],t&this.STR_HEX?ue:[]);var r=i.length;var a=[];var o=(new Date).getTime();for(var s=0;s<e;s++){var c=Math.round(Math.random()*r*2+o)%r;a.push(i[c])}return n?a:a.join("")};A.random_range=function(e,t){if(typeof e!=="number")e=0;else e=parseInt(e);if(typeof t!=="number")t=2147483648;else t=parseInt(t);var n=(new Date).getTime();return e+Math.round(Math.random()*(t-e)*2+n)%(t-e+1)};A.uuid4=function(){var e=A.random_string(32+4,A.STR_HEX,true);e[8]=e[13]=e[18]=e[23]="-";e[14]="4";e[19]=(e[19]&3|8).toString(16);return e.join("")};var le=R.timestamp();A.uniqueId=function(e){le+=Math.floor(Math.random()*1e3);return(e||"")+""+le};var de=[];for(var fe=0;fe<256;fe++){var C=fe;for(var pe=0;pe<8;pe++){C=C&1?3988292384^C>>>1:C>>>1}de[fe]=C}A.crc32=function(e){var t=-1;e=S(e);for(var n=0;n<e.length;n++){t=t>>>8^de[(t^e.charCodeAt(n))&255]}return(t^-1)>>>0};function S(e){var t,n,i="",r=-1,a;if(e&&e.length){a=e.length;while((r+=1)<a){t=e.charCodeAt(r);n=r+1<a?e.charCodeAt(r+1):0;if(55296<=t&&t<=56319&&56320<=n&&n<=57343){t=65536+((t&1023)<<10)+(n&1023);r+=1}if(t<=127){i+=String.fromCharCode(t)}else if(t<=2047){i+=String.fromCharCode(192|t>>>6&31,128|t&63)}else if(t<=65535){i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|t&63)}else if(t<=2097151){i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|t&63)}}}return i}function x(e,t){var n=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function he(e,t){return e<<t|e>>>32-t}function k(e){var t="0123456789abcdef",n="",i,r=0,a=e.length;for(;r<a;r+=1){i=e.charCodeAt(r);n+=t.charAt(i>>>4&15)+t.charAt(i&15)}return n}function D(e){var t,n=e.length*32,i="";for(t=0;t<n;t+=8){i+=String.fromCharCode(e[t>>5]>>>24-t%32&255)}return i}function ve(e){var t,n=e.length*32,i="";for(t=0;t<n;t+=8){i+=String.fromCharCode(e[t>>5]>>>t%32&255)}return i}function me(e){var t,n=e.length*8,i=Array(e.length>>2),r=i.length;for(t=0;t<r;t+=1){i[t]=0}for(t=0;t<n;t+=8){i[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32}return i}function M(e){var t,n=e.length*8,i=Array(e.length>>2),r=i.length;for(t=0;t<r;t+=1){i[t]=0}for(t=0;t<n;t+=8){i[t>>5]|=(e.charCodeAt(t/8)&255)<<24-t%32}return i}A.md5=new function(){this.hex=function(e){return k(t(e))};this.b64=function(e){return btoa(t(e))};this.raw=function(e){return t(e)};this.hmac_hex=function(e,t){return k(n(e,t))};this.hmac_b64=function(e,t){return btoa(n(e,t))};this.hmac_raw=function(e,t){return n(e,t)};function t(e){e=S(e);return ve(s(me(e),e.length*8))}function n(e,t){var n,i,r,a,o;e=S(e);t=S(t);n=me(e);if(n.length>16){n=s(n,e.length*8)}i=Array(16);r=Array(16);for(o=0;o<16;o+=1){i[o]=n[o]^909522486;r[o]=n[o]^1549556828}a=s(i.concat(me(t)),512+t.length*8);return ve(s(r.concat(a),512+128))}function s(e,t){var n,i,r,a,o,s=1732584193,c=-271733879,u=-1732584194,l=271733878;e[t>>5]|=128<<t%32;e[(t+64>>>9<<4)+14]=t;for(n=0;n<e.length;n+=16){i=s;r=c;a=u;o=l;s=d(s,c,u,l,e[n+0],7,-680876936);l=d(l,s,c,u,e[n+1],12,-389564586);u=d(u,l,s,c,e[n+2],17,606105819);c=d(c,u,l,s,e[n+3],22,-1044525330);s=d(s,c,u,l,e[n+4],7,-176418897);l=d(l,s,c,u,e[n+5],12,1200080426);u=d(u,l,s,c,e[n+6],17,-1473231341);c=d(c,u,l,s,e[n+7],22,-45705983);s=d(s,c,u,l,e[n+8],7,1770035416);l=d(l,s,c,u,e[n+9],12,-1958414417);u=d(u,l,s,c,e[n+10],17,-42063);c=d(c,u,l,s,e[n+11],22,-1990404162);s=d(s,c,u,l,e[n+12],7,1804603682);l=d(l,s,c,u,e[n+13],12,-40341101);u=d(u,l,s,c,e[n+14],17,-1502002290);c=d(c,u,l,s,e[n+15],22,1236535329);s=f(s,c,u,l,e[n+1],5,-165796510);l=f(l,s,c,u,e[n+6],9,-1069501632);u=f(u,l,s,c,e[n+11],14,643717713);c=f(c,u,l,s,e[n+0],20,-373897302);s=f(s,c,u,l,e[n+5],5,-701558691);l=f(l,s,c,u,e[n+10],9,38016083);u=f(u,l,s,c,e[n+15],14,-660478335);c=f(c,u,l,s,e[n+4],20,-405537848);s=f(s,c,u,l,e[n+9],5,568446438);l=f(l,s,c,u,e[n+14],9,-1019803690);u=f(u,l,s,c,e[n+3],14,-187363961);c=f(c,u,l,s,e[n+8],20,1163531501);s=f(s,c,u,l,e[n+13],5,-1444681467);l=f(l,s,c,u,e[n+2],9,-51403784);u=f(u,l,s,c,e[n+7],14,1735328473);c=f(c,u,l,s,e[n+12],20,-1926607734);s=p(s,c,u,l,e[n+5],4,-378558);l=p(l,s,c,u,e[n+8],11,-2022574463);u=p(u,l,s,c,e[n+11],16,1839030562);c=p(c,u,l,s,e[n+14],23,-35309556);s=p(s,c,u,l,e[n+1],4,-1530992060);l=p(l,s,c,u,e[n+4],11,1272893353);u=p(u,l,s,c,e[n+7],16,-155497632);c=p(c,u,l,s,e[n+10],23,-1094730640);s=p(s,c,u,l,e[n+13],4,681279174);l=p(l,s,c,u,e[n+0],11,-358537222);u=p(u,l,s,c,e[n+3],16,-722521979);c=p(c,u,l,s,e[n+6],23,76029189);s=p(s,c,u,l,e[n+9],4,-640364487);l=p(l,s,c,u,e[n+12],11,-421815835);u=p(u,l,s,c,e[n+15],16,530742520);c=p(c,u,l,s,e[n+2],23,-995338651);s=h(s,c,u,l,e[n+0],6,-198630844);l=h(l,s,c,u,e[n+7],10,1126891415);u=h(u,l,s,c,e[n+14],15,-1416354905);c=h(c,u,l,s,e[n+5],21,-57434055);s=h(s,c,u,l,e[n+12],6,1700485571);l=h(l,s,c,u,e[n+3],10,-1894986606);u=h(u,l,s,c,e[n+10],15,-1051523);c=h(c,u,l,s,e[n+1],21,-2054922799);s=h(s,c,u,l,e[n+8],6,1873313359);l=h(l,s,c,u,e[n+15],10,-30611744);u=h(u,l,s,c,e[n+6],15,-1560198380);c=h(c,u,l,s,e[n+13],21,1309151649);s=h(s,c,u,l,e[n+4],6,-145523070);l=h(l,s,c,u,e[n+11],10,-1120210379);u=h(u,l,s,c,e[n+2],15,718787259);c=h(c,u,l,s,e[n+9],21,-343485551);s=x(s,i);c=x(c,r);u=x(u,a);l=x(l,o)}return Array(s,c,u,l)}function c(e,t,n,i,r,a){return x(he(x(x(t,e),x(i,a)),r),n)}function d(e,t,n,i,r,a,o){return c(t&n|~t&i,e,t,r,a,o)}function f(e,t,n,i,r,a,o){return c(t&i|n&~i,e,t,r,a,o)}function p(e,t,n,i,r,a,o){return c(t^n^i,e,t,r,a,o)}function h(e,t,n,i,r,a,o){return c(n^(t|~i),e,t,r,a,o)}};A.sha1=new function(){this.hex=function(e){return k(t(e))};this.b64=function(e){return btoa(t(e))};this.raw=function(e){return t(e)};this.hmac_hex=function(e,t){return k(n(e,t))};this.hmac_b64=function(e,t){return btoa(n(e,t))};this.hmac_raw=function(e,t){return n(e,t)};function t(e){e=S(e);return D(s(M(e),e.length*8))}function n(e,t){var n,i,r,a,o;e=S(e);t=S(t);n=M(e);if(n.length>16){n=s(n,e.length*8)}i=Array(16);r=Array(16);for(a=0;a<16;a+=1){i[a]=n[a]^909522486;r[a]=n[a]^1549556828}o=s(i.concat(M(t)),512+t.length*8);return D(s(r.concat(o),512+160))}function s(e,t){var n,i,r,a,o,s,c,u,l=Array(80),d=1732584193,f=-271733879,p=-1732584194,h=271733878,v=-1009589776;e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(n=0;n<e.length;n+=16){a=d;o=f;s=p;c=h;u=v;for(i=0;i<80;i+=1){if(i<16){l[i]=e[n+i]}else{l[i]=he(l[i-3]^l[i-8]^l[i-14]^l[i-16],1)}r=x(x(he(d,5),m(i,f,p,h)),x(x(v,l[i]),g(i)));v=h;h=p;p=he(f,30);f=d;d=r}d=x(d,a);f=x(f,o);p=x(p,s);h=x(h,c);v=x(v,u)}return Array(d,f,p,h,v)}function m(e,t,n,i){if(e<20){return t&n|~t&i}if(e<40){return t^n^i}if(e<60){return t&n|t&i|n&i}return t^n^i}function g(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}};A.sha256=new function(){this.hex=function(e){return k(t(e))};this.b64=function(e){return btoa(t(e))};this.raw=function(e){return t(e)};this.hmac_hex=function(e,t){return k(n(e,t))};this.hmac_b64=function(e,t){return btoa(n(e,t))};this.hmac_raw=function(e,t){return n(e,t)};function t(e){e=S(e);return D(s(M(e),e.length*8))}function n(e,t){e=S(e);t=S(t);var n,i=0,r=M(e),a=Array(16),o=Array(16);if(r.length>16){r=s(r,e.length*8)}for(;i<16;i+=1){a[i]=r[i]^909522486;o[i]=r[i]^1549556828}n=s(a.concat(M(t)),512+t.length*8);return D(s(o.concat(n),512+256))}function i(e,t){return e>>>t|e<<32-t}function r(e,t){return e>>>t}function m(e,t,n){return e&t^~e&n}function g(e,t,n){return e&t^e&n^t&n}function b(e){return i(e,2)^i(e,13)^i(e,22)}function y(e){return i(e,6)^i(e,11)^i(e,25)}function w(e){return i(e,7)^i(e,18)^r(e,3)}function A(e){return i(e,17)^i(e,19)^r(e,10)}var C=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function s(e,t){var n=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var i=new Array(64);var r,a,o,s,c,u,l,d;var f,p,h,v;e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(f=0;f<e.length;f+=16){r=n[0];a=n[1];o=n[2];s=n[3];c=n[4];u=n[5];l=n[6];d=n[7];for(p=0;p<64;p+=1){if(p<16){i[p]=e[p+f]}else{i[p]=x(x(x(A(i[p-2]),i[p-7]),w(i[p-15])),i[p-16])}h=x(x(x(x(d,y(c)),m(c,u,l)),C[p]),i[p]);v=x(b(r),g(r,a,o));d=l;l=u;u=c;c=x(s,h);s=o;o=a;a=r;r=x(h,v)}n[0]=x(r,n[0]);n[1]=x(a,n[1]);n[2]=x(o,n[2]);n[3]=x(s,n[3]);n[4]=x(c,n[4]);n[5]=x(u,n[5]);n[6]=x(l,n[6]);n[7]=x(d,n[7])}return n}};A.sha512=new function(){this.hex=function(e){return k(t(e))};this.b64=function(e){return btoa(t(e))};this.raw=function(e){return t(e)};this.hmac_hex=function(e,t){return k(n(e,t))};this.hmac_b64=function(e,t){return btoa(n(e,t))};this.hmac_raw=function(e,t){return n(e,t)};function t(e){e=S(e);return D(s(M(e),e.length*8))}function n(e,t){e=S(e);t=S(t);var n,i=0,r=M(e),a=Array(32),o=Array(32);if(r.length>32){r=s(r,e.length*8)}for(;i<32;i+=1){a[i]=r[i]^909522486;o[i]=r[i]^1549556828}n=s(a.concat(M(t)),1024+t.length*8);return D(s(o.concat(n),1024+512))}function s(e,t){var n,i,r,a=new Array(80),o=new Array(16),s=[new E(1779033703,-205731576),new E(-1150833019,-2067093701),new E(1013904242,-23791573),new E(-1521486534,1595750129),new E(1359893119,-1377402159),new E(-1694144372,725511199),new E(528734635,-79577749),new E(1541459225,327033209)],c=new E(0,0),u=new E(0,0),l=new E(0,0),d=new E(0,0),f=new E(0,0),p=new E(0,0),h=new E(0,0),v=new E(0,0),m=new E(0,0),g=new E(0,0),b=new E(0,0),y=new E(0,0),w=new E(0,0),A=new E(0,0),C=new E(0,0),S=new E(0,0),x=new E(0,0);var k=[new E(1116352408,-685199838),new E(1899447441,602891725),new E(-1245643825,-330482897),new E(-373957723,-2121671748),new E(961987163,-213338824),new E(1508970993,-1241133031),new E(-1841331548,-1357295717),new E(-1424204075,-630357736),new E(-670586216,-1560083902),new E(310598401,1164996542),new E(607225278,1323610764),new E(1426881987,-704662302),new E(1925078388,-226784913),new E(-2132889090,991336113),new E(-1680079193,633803317),new E(-1046744716,-815192428),new E(-459576895,-1628353838),new E(-272742522,944711139),new E(264347078,-1953704523),new E(604807628,2007800933),new E(770255983,1495990901),new E(1249150122,1856431235),new E(1555081692,-1119749164),new E(1996064986,-2096016459),new E(-1740746414,-295247957),new E(-1473132947,766784016),new E(-1341970488,-1728372417),new E(-1084653625,-1091629340),new E(-958395405,1034457026),new E(-710438585,-1828018395),new E(113926993,-536640913),new E(338241895,168717936),new E(666307205,1188179964),new E(773529912,1546045734),new E(1294757372,1522805485),new E(1396182291,-1651133473),new E(1695183700,-1951439906),new E(1986661051,1014477480),new E(-2117940946,1206759142),new E(-1838011259,344077627),new E(-1564481375,1290863460),new E(-1474664885,-1136513023),new E(-1035236496,-789014639),new E(-949202525,106217008),new E(-778901479,-688958952),new E(-694614492,1432725776),new E(-200395387,1467031594),new E(275423344,851169720),new E(430227734,-1194143544),new E(506948616,1363258195),new E(659060556,-544281703),new E(883997877,-509917016),new E(958139571,-976659869),new E(1322822218,-482243893),new E(1537002063,2003034995),new E(1747873779,-692930397),new E(1955562222,1575990012),new E(2024104815,1125592928),new E(-2067236844,-1578062990),new E(-1933114872,442776044),new E(-1866530822,593698344),new E(-1538233109,-561857047),new E(-1090935817,-1295615723),new E(-965641998,-479046869),new E(-903397682,-366583396),new E(-779700025,566280711),new E(-354779690,-840897762),new E(-176337025,-294727304),new E(116418474,1914138554),new E(174292421,-1563912026),new E(289380356,-1090974290),new E(460393269,320620315),new E(685471733,587496836),new E(852142971,1086792851),new E(1017036298,365543100),new E(1126000580,-1676669620),new E(1288033470,-885112138),new E(1501505948,-60457430),new E(1607167915,987167468),new E(1816402316,1246189591)];for(i=0;i<80;i+=1){a[i]=new E(0,0)}e[t>>5]|=128<<24-(t&31);e[(t+128>>10<<5)+31]=t;r=e.length;for(i=0;i<r;i+=32){_(l,s[0]);_(d,s[1]);_(f,s[2]);_(p,s[3]);_(h,s[4]);_(v,s[5]);_(m,s[6]);_(g,s[7]);for(n=0;n<16;n+=1){a[n].h=e[i+2*n];a[n].l=e[i+2*n+1]}for(n=16;n<80;n+=1){O(C,a[n-2],19);P(S,a[n-2],29);I(x,a[n-2],6);y.l=C.l^S.l^x.l;y.h=C.h^S.h^x.h;O(C,a[n-15],1);O(S,a[n-15],8);I(x,a[n-15],7);b.l=C.l^S.l^x.l;b.h=C.h^S.h^x.h;L(a[n],y,a[n-7],b,a[n-16])}for(n=0;n<80;n+=1){w.l=h.l&v.l^~h.l&m.l;w.h=h.h&v.h^~h.h&m.h;O(C,h,14);O(S,h,18);P(x,h,9);y.l=C.l^S.l^x.l;y.h=C.h^S.h^x.h;O(C,l,28);P(S,l,2);P(x,l,7);b.l=C.l^S.l^x.l;b.h=C.h^S.h^x.h;A.l=l.l&d.l^l.l&f.l^d.l&f.l;A.h=l.h&d.h^l.h&f.h^d.h&f.h;T(c,g,y,w,k[n],a[n]);R(u,b,A);_(g,m);_(m,v);_(v,h);R(h,p,c);_(p,f);_(f,d);_(d,l);R(l,c,u)}R(s[0],s[0],l);R(s[1],s[1],d);R(s[2],s[2],f);R(s[3],s[3],p);R(s[4],s[4],h);R(s[5],s[5],v);R(s[6],s[6],m);R(s[7],s[7],g)}for(i=0;i<8;i+=1){o[2*i]=s[i].h;o[2*i+1]=s[i].l}return o}function E(e,t){this.h=e;this.l=t}function _(e,t){e.h=t.h;e.l=t.l}function O(e,t,n){e.l=t.l>>>n|t.h<<32-n;e.h=t.h>>>n|t.l<<32-n}function P(e,t,n){e.l=t.h>>>n|t.l<<32-n;e.h=t.l>>>n|t.h<<32-n}function I(e,t,n){e.l=t.l>>>n|t.h<<32-n;e.h=t.h>>>n}function R(e,t,n){var i=(t.l&65535)+(n.l&65535);var r=(t.l>>>16)+(n.l>>>16)+(i>>>16);var a=(t.h&65535)+(n.h&65535)+(r>>>16);var o=(t.h>>>16)+(n.h>>>16)+(a>>>16);e.l=i&65535|r<<16;e.h=a&65535|o<<16}function L(e,t,n,i,r){var a=(t.l&65535)+(n.l&65535)+(i.l&65535)+(r.l&65535);var o=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(a>>>16);var s=(t.h&65535)+(n.h&65535)+(i.h&65535)+(r.h&65535)+(o>>>16);var c=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(s>>>16);e.l=a&65535|o<<16;e.h=s&65535|c<<16}function T(e,t,n,i,r,a){var o=(t.l&65535)+(n.l&65535)+(i.l&65535)+(r.l&65535)+(a.l&65535),s=(t.l>>>16)+(n.l>>>16)+(i.l>>>16)+(r.l>>>16)+(a.l>>>16)+(o>>>16),c=(t.h&65535)+(n.h&65535)+(i.h&65535)+(r.h&65535)+(a.h&65535)+(s>>>16),u=(t.h>>>16)+(n.h>>>16)+(i.h>>>16)+(r.h>>>16)+(a.h>>>16)+(c>>>16);e.l=o&65535|s<<16;e.h=c&65535|u<<16}}})(window,document,NiuEnv,NiuGrant,NiuEvents,NiuUI,NiuJS,NiuHash,NiuBL,NiuWechat,NiuClient,NiuLogic);